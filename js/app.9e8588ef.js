(function(e){function t(t){for(var r,o,s=t[0],u=t[1],l=t[2],p=0,f=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/zurich_extension_motor_client/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0d31":function(e,t,n){"use strict";n("6166")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=n("7496"),i=n("f6c4"),o=function(){var e=this,t=e._self._c;return t(a["a"],[t(i["a"],[t("router-view")],1)],1)},s=[],u={name:"app"},l=u,c=(n("c5f4"),n("2877")),p=Object(c["a"])(l,o,s,!1,null,null,null),f=p.exports,d=(n("4989"),n("ab8b"),n("ee1d"),n("5df2"),n("04ff"),n("7514"),n("9aea"),n("4917"),n("7cdf"),n("3b2b"),n("165b"),n("1c4c"),n("a481"),n("7f7f"),n("ffc1"),n("5df3"),n("f400"),n("c5f6"),n("6b54"),n("456d"),n("ac6a"),n("fd24"),n("28a5"),n("53ca"));n("ac4d"),n("8a81");window.tableau=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==Object(d["a"])(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist-extensions/",n(n.s=109)}([function(e,t,n){var r;!function(e){!function(e){e.Desktop="desktop",e.Server="server"}(e.ExtensionContext||(e.ExtensionContext={})),function(e){e.Authoring="authoring",e.Viewing="viewing"}(e.ExtensionMode||(e.ExtensionMode={})),function(e){e.Cluster="cluster",e.Forecast="forecast",e.TrendLine="trend-line"}(e.AnalyticsObjectType||(e.AnalyticsObjectType={})),function(e){e.Discrete="discrete",e.Continuous="continuous"}(e.ColumnType||(e.ColumnType={})),function(e){e.Blank="blank",e.Worksheet="worksheet",e.QuickFilter="quick-filter",e.ParameterControl="parameter-control",e.PageFilter="page-filter",e.Legend="legend",e.Title="title",e.Text="text",e.Image="image",e.WebPage="web-page",e.Extension="extension"}(e.DashboardObjectType||(e.DashboardObjectType={})),function(e){e.String="string",e.Int="int",e.Float="float",e.Bool="bool",e.Date="date",e.DateTime="date-time",e.Spatial="spatial"}(e.DataType||(e.DataType={})),function(e){e.Last="last",e.LastN="last-n",e.Next="next",e.NextN="next-n",e.Current="current",e.ToDate="to-date"}(e.DateRangeType||(e.DateRangeType={})),function(e){e.Column="column",e.Row="row",e.Page="page",e.Filter="filter",e.MarksType="marks-type",e.MeasureValues="measure-values",e.Color="color",e.Size="size",e.Label="label",e.Detail="detail",e.Tooltip="tooltip",e.Shape="shape",e.Path="path",e.Angle="angle"}(e.EncodingType||(e.EncodingType={})),function(e){e.APINotInitialized="api-not-initialized",e.VisibilityError="visibility-error",e.DialogAlreadyOpen="dialog-already-open",e.DialogClosedByUser="dialog-closed-by-user",e.InternalError="internal-error",e.InvalidDomainDialog="invalid-dialog-domain",e.InvalidParameter="invalid-parameter",e.MissingFilter="missing-filter",e.MissingParameter="missing-parameter",e.ServerError="server-error",e.SettingSaveInProgress="setting-save-in-progress",e.UnsupportedEventName="unsupported-event-name",e.UnsupportedMethodForDataSourceType="unsupported-method-for-data-source-type"}(e.ErrorCodes||(e.ErrorCodes={})),function(e){e.Sum="sum",e.Avg="avg",e.Min="min",e.Max="max",e.Stdev="stdev",e.Stdevp="stdevp",e.Var="var",e.Varp="varp",e.Count="count",e.Countd="countd",e.Median="median",e.Attr="attr",e.None="none",e.Year="year",e.Qtr="qtr",e.Month="month",e.Day="day",e.Hour="hour",e.Minute="minute",e.Second="second",e.Week="week",e.Weekday="weekday",e.MonthYear="month-year",e.Mdy="mdy",e.End="end",e.TruncYear="trunc-year",e.TruncQtr="trunc-qtr",e.TruncMonth="trunc-month",e.TruncWeek="trunc-week",e.TruncDay="trunc-day",e.TruncHour="trunc-hour",e.TruncMinute="trunc-minute",e.TruncSecond="trunc-second",e.Quart1="quart1",e.Quart3="quart3",e.Skewness="skewness",e.Kurtosis="kurtosis",e.InOut="in-out",e.User="user"}(e.FieldAggregationType||(e.FieldAggregationType={})),function(e){e.Dimension="dimension",e.Measure="measure",e.Unknown="unknown"}(e.FieldRoleType||(e.FieldRoleType={})),function(e){e.Categorical="categorical",e.Range="range",e.Hierarchical="hierarchical",e.RelativeDate="relative-date"}(e.FilterType||(e.FilterType={})),function(e){e.Add="add",e.All="all",e.Replace="replace",e.Remove="remove"}(e.FilterUpdateType||(e.FilterUpdateType={})),function(e){e.Relevant="relevant",e.Database="database"}(e.FilterDomainType||(e.FilterDomainType={})),function(e){e.NullValues="null-values",e.NonNullValues="non-null-values",e.AllValues="all-values"}(e.FilterNullOption||(e.FilterNullOption={})),function(e){e.Bar="bar",e.Line="line",e.Area="area",e.Square="square",e.Circle="circle",e.Shape="shape",e.Text="text",e.Map="map",e.Pie="pie",e.GanttBar="gantt-bar",e.Polygon="polygon"}(e.MarkType||(e.MarkType={})),function(e){e.All="all",e.List="list",e.Range="range"}(e.ParameterValueType||(e.ParameterValueType={})),function(e){e.Years="years",e.Quarters="quarters",e.Months="months",e.Weeks="weeks",e.Days="days",e.Hours="hours",e.Minutes="minutes",e.Seconds="seconds"}(e.PeriodType||(e.PeriodType={})),function(e){e.RunningTotal="running-total",e.Difference="difference",e.PercentDifference="percent-difference",e.PercentOfTotal="percent-of-total",e.Rank="rank",e.Percentile="percentile",e.MovingAverage="moving-average",e.YTDTotal="ytd-total",e.CompoundGrowthRate="compound-growth-rate",e.YearOverYearGrowth="year-over-year-growth",e.YTDGrowth="ytd-growth",e.Undefined="undefined"}(e.QuickTableCalcType||(e.QuickTableCalcType={})),function(e){e.Replace="select-replace",e.Add="select-add",e.Remove="select-remove"}(e.SelectionUpdateType||(e.SelectionUpdateType={})),function(e){e.Dashboard="dashboard",e.Story="story",e.Worksheet="worksheet"}(e.SheetType||(e.SheetType={})),function(e){e.Increasing="increasing",e.Decreasing="decreasing"}(e.SortDirection||(e.SortDirection={})),function(e){e.FilterChanged="filter-changed",e.MarkSelectionChanged="mark-selection-changed",e.ParameterChanged="parameter-changed",e.SettingsChanged="settings-changed"}(e.TableauEventType||(e.TableauEventType={})),function(e){e.Linear="linear",e.Logarithmic="logarithmic",e.Exponential="exponential",e.Polynomial="polynomial"}(e.TrendLineModelType||(e.TrendLineModelType={})),function(e){e.Show="show",e.Hide="hide"}(e.ZoneVisibilityType||(e.ZoneVisibilityType={}))}(r||(r={})),e.exports=r},function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(86),n(88),n(87),r(n(92)),r(n(168)),r(n(93)),r(n(169)),r(n(170)),r(n(94)),r(n(174)),r(n(95)),r(n(177)),r(n(56));var a,i=n(180);try{a=i.version.split(".").map((function(e){return parseInt(e,10)}))}catch(e){throw console.error(e),new Error("Unable to parse internal contract version "+i.version)}t.INTERNAL_CONTRACT_VERSION={major:a[0],minor:a[1],fix:a[2]},t.MESSAGING_VERSION={major:1,minor:0,fix:0}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==("undefined"===typeof globalThis?"undefined":Object(d["a"])(globalThis))&&globalThis)||n("object"==("undefined"===typeof window?"undefined":Object(d["a"])(window))&&window)||n("object"==("undefined"===typeof self?"undefined":Object(d["a"])(self))&&self)||n("object"==Object(d["a"])(t)&&t)||Function("return this")()}).call(this,n(111))},function(e,t,n){var r=n(2),a=n(61),i=n(9),o=n(37),s=n(65),u=n(112),l=a("wks"),c=r.Symbol,p=u?c:c&&c.withoutSetter||o;e.exports=function(e){return i(l,e)||(s&&i(c,e)?l[e]=c[e]:l[e]=p("Symbol."+e)),l[e]}},function(e,t,n){var r=n(2),a=n(42).f,i=n(16),o=n(17),s=n(34),u=n(116),l=n(47);e.exports=function(e,t){var n,c,p,f,g,y=e.target,m=e.global,v=e.stat;if(n=m?r:v?r[y]||s(y,{}):(r[y]||{}).prototype)for(c in t){if(f=t[c],p=e.noTargetGet?(g=a(n,c))&&g.value:n[c],!l(m?c:y+(v?".":"#")+c,e.forced)&&void 0!==p){if(Object(d["a"])(f)==Object(d["a"])(p))continue;u(f,p)}(e.sham||p&&p.sham)&&i(f,"sham",!0),o(n,c,f,e)}}},function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var a=n(166);t.Dashboard=a.Dashboard;var i=n(55);t.EventListenerManager=i.EventListenerManager;var o=n(6);t.TableauError=o.TableauError;var s=n(91);t.ApiVersion=s.ApiVersion;var u=n(21);t.InternalToExternalEnumMappings=u.InternalToExternalEnumMappings;var l=n(97);t.TableauEvent=l.TableauEvent;var c=n(58);t.SingleEventManagerImpl=c.SingleEventManagerImpl;var p=n(181);t.DashboardImpl=p.DashboardImpl;var f=n(18);t.ServiceImplBase=f.ServiceImplBase;var d=n(12);t.ErrorHelpers=d.ErrorHelpers,r(n(192)),r(n(194)),r(n(14))},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(n,r){var a=e.call(this,n+": "+r)||this;return a._errorCode=n,Object.setPrototypeOf(a,t.prototype),a}return a(t,e),Object.defineProperty(t.prototype,"errorCode",{get:function(){return this._errorCode},enumerable:!0,configurable:!0}),t}(Error);t.TableauError=i},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==Object(d["a"])(e)?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(7);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(2);e.exports=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(28),i=n(6),o=function(){function e(){}return e.apiNotImplemented=function(e){return new i.TableauError(r.ErrorCodes.InternalError,e+" API not yet implemented.")},e.verifyInternalValue=function(e,t){if(null==e)throw new i.TableauError(r.ErrorCodes.InternalError,e+" is invalid value for: "+t)},e.verifyParameter=function(e,t){if(null==e)throw new i.TableauError(r.ErrorCodes.InvalidParameter,e+" is invalid value for parameter: "+t)},e.verifyParameterType=function(e,t,n){if(Object(d["a"])(e)!==t)throw new i.TableauError(r.ErrorCodes.InvalidParameter,e+" has invalid type for parameter: "+n+".")},e.verifyStringParameter=function(e,t){if(null==e||""===e)throw new i.TableauError(r.ErrorCodes.InvalidParameter,e+" is invalid value for paramter: "+t)},e.verifyEnumValue=function(e,t,n){var a=!1;if(Object.keys(t).forEach((function(n){t[n]===e.toString()&&(a=!0)})),!a)throw new i.TableauError(r.ErrorCodes.InvalidParameter,e+" is invalid value for enum: "+n+".")},e.verifyRangeParamType=function(e,t){if(!e&&!t)throw new i.TableauError(r.ErrorCodes.InvalidParameter,"Unexpected invalid param value, at least one of min or max is required.");if(e&&!a.Param.isTypeNumber(e)&&!a.Param.isTypeDate(e))throw new i.TableauError(r.ErrorCodes.InvalidParameter,"Unexpected invalid param value, only Date and number are allowed for parameter min.");if(t&&!a.Param.isTypeNumber(t)&&!a.Param.isTypeDate(t))throw new i.TableauError(r.ErrorCodes.InvalidParameter,"Unexpected invalid param value, only Date and number are allowed for parameter max.");if(e&&t&&Object(d["a"])(e)!=Object(d["a"])(t))throw new i.TableauError(r.ErrorCodes.InvalidParameter,"Unexpected invalid param value, parameters min and max should be of the same type.")},e.verifyZoneIsValid=function(e,t){if(!e.some((function(e){return e.id===t&&e.isFloating})))throw new i.TableauError(r.ErrorCodes.InvalidParameter,"Unexpected invalid param value, Zone Id: "+t+" is either not present or is a fixed zone.")},e}();t.ErrorHelpers=o},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(6),i=function(){function e(){this._services={}}return e.prototype.registerService=function(e){this._services[e.serviceName]=e},e.prototype.getService=function(e){if(!this._services.hasOwnProperty(e))throw new a.TableauError(r.ErrorCodes.InternalError,"Service not registered: "+e);return this._services[e]},e}(),o=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){if(window.__tableauApiServiceRegistry||e.setInstance(new i),!window.__tableauApiServiceRegistry)throw new a.TableauError(r.ErrorCodes.InternalError,"Service registry failed");return window.__tableauApiServiceRegistry},enumerable:!0,configurable:!0}),e.setInstance=function(e){window.__tableauApiServiceRegistry=e},e}();t.ApiServiceRegistry=o},function(e,t,n){var r=n(10),a=n(63),i=n(13),o=n(64),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=o(t,!0),i(n),a)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(10),a=n(15),i=n(36);e.exports=r?function(e,t,n){return a.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(2),a=n(16),i=n(9),o=n(34),s=n(38),u=n(23),l=u.get,c=u.enforce,p=String(String).split("String");(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||a(n,"name",t),c(n).source=p.join("string"==typeof t?t:"")),e!==r?(u?!f&&e[t]&&(l=!0):delete e[t],l?e[t]=n:a(e,t,n)):l?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),a=n(6),i=n(57),o=function(){function e(e){this._dispatcher=e}return e.prototype.execute=function(e,t){return this._dispatcher.execute(e,t).catch((function(e){var t=e,n=r.InternalToExternalEnumMappings.errorCode.convert(t.errorCode,i.ShouldThrow.No);throw new a.TableauError(n,t.message)}))},e}();t.ServiceImplBase=o},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(11),a=n(2),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(a[e]):r[e]&&r[e][t]||a[e]&&a[e][t]}},function(e,t,n){var r,a,i,o,s,u,l,c,p,f,d,g,y,m;Object.defineProperty(t,"__esModule",{value:!0});var v=n(0),h=n(1),_=n(57),b=function(){function e(){}return e.extensionContext=new _.EnumConverter(((r={})[h.ExtensionContext.Desktop]=v.ExtensionContext.Desktop,r[h.ExtensionContext.Server]=v.ExtensionContext.Server,r)),e.extensionMode=new _.EnumConverter(((a={})[h.ExtensionMode.Authoring]=v.ExtensionMode.Authoring,a[h.ExtensionMode.Viewing]=v.ExtensionMode.Viewing,a)),e.columnType=new _.EnumConverter(((i={})[h.ColumnType.Continuous]=v.ColumnType.Continuous,i[h.ColumnType.Discrete]=v.ColumnType.Discrete,i)),e.fieldAggregationType=new _.EnumConverter(((o={})[h.FieldAggregationType.Attr]=v.FieldAggregationType.Attr,o[h.FieldAggregationType.Avg]=v.FieldAggregationType.Avg,o[h.FieldAggregationType.Count]=v.FieldAggregationType.Count,o[h.FieldAggregationType.Countd]=v.FieldAggregationType.Countd,o[h.FieldAggregationType.Day]=v.FieldAggregationType.Day,o[h.FieldAggregationType.End]=v.FieldAggregationType.End,o[h.FieldAggregationType.Hour]=v.FieldAggregationType.Hour,o[h.FieldAggregationType.InOut]=v.FieldAggregationType.InOut,o[h.FieldAggregationType.Kurtosis]=v.FieldAggregationType.Kurtosis,o[h.FieldAggregationType.Max]=v.FieldAggregationType.Max,o[h.FieldAggregationType.Mdy]=v.FieldAggregationType.Mdy,o[h.FieldAggregationType.Median]=v.FieldAggregationType.Median,o[h.FieldAggregationType.Min]=v.FieldAggregationType.Min,o[h.FieldAggregationType.Minute]=v.FieldAggregationType.Minute,o[h.FieldAggregationType.MonthYear]=v.FieldAggregationType.MonthYear,o[h.FieldAggregationType.None]=v.FieldAggregationType.None,o[h.FieldAggregationType.Qtr]=v.FieldAggregationType.Qtr,o[h.FieldAggregationType.Quart1]=v.FieldAggregationType.Quart1,o[h.FieldAggregationType.Quart3]=v.FieldAggregationType.Quart3,o[h.FieldAggregationType.Second]=v.FieldAggregationType.Second,o[h.FieldAggregationType.Skewness]=v.FieldAggregationType.Skewness,o[h.FieldAggregationType.Stdev]=v.FieldAggregationType.Stdev,o[h.FieldAggregationType.Stdevp]=v.FieldAggregationType.Stdevp,o[h.FieldAggregationType.Sum]=v.FieldAggregationType.Sum,o[h.FieldAggregationType.TruncDay]=v.FieldAggregationType.TruncDay,o[h.FieldAggregationType.TruncHour]=v.FieldAggregationType.TruncHour,o[h.FieldAggregationType.TruncMinute]=v.FieldAggregationType.TruncMinute,o[h.FieldAggregationType.TruncMonth]=v.FieldAggregationType.TruncMonth,o[h.FieldAggregationType.TruncQtr]=v.FieldAggregationType.TruncQtr,o[h.FieldAggregationType.TruncSecond]=v.FieldAggregationType.TruncSecond,o[h.FieldAggregationType.TruncWeek]=v.FieldAggregationType.TruncWeek,o[h.FieldAggregationType.TruncYear]=v.FieldAggregationType.TruncYear,o[h.FieldAggregationType.User]=v.FieldAggregationType.User,o[h.FieldAggregationType.Var]=v.FieldAggregationType.Var,o[h.FieldAggregationType.Varp]=v.FieldAggregationType.Varp,o[h.FieldAggregationType.Week]=v.FieldAggregationType.Week,o[h.FieldAggregationType.Weekday]=v.FieldAggregationType.Weekday,o[h.FieldAggregationType.Year]=v.FieldAggregationType.Year,o)),e.fieldRoleType=new _.EnumConverter(((s={})[h.FieldRoleType.Dimension]=v.FieldRoleType.Dimension,s[h.FieldRoleType.Measure]=v.FieldRoleType.Measure,s[h.FieldRoleType.Unknown]=v.FieldRoleType.Unknown,s)),e.sheetType=new _.EnumConverter(((u={})[h.SheetType.Dashboard]=v.SheetType.Dashboard,u[h.SheetType.Story]=v.SheetType.Story,u[h.SheetType.Worksheet]=v.SheetType.Worksheet,u)),e.dashboardObjectType=new _.EnumConverter(((l={})[h.DashboardObjectType.Extension]=v.DashboardObjectType.Extension,l[h.DashboardObjectType.Blank]=v.DashboardObjectType.Blank,l[h.DashboardObjectType.Image]=v.DashboardObjectType.Image,l[h.DashboardObjectType.Legend]=v.DashboardObjectType.Legend,l[h.DashboardObjectType.PageFilter]=v.DashboardObjectType.PageFilter,l[h.DashboardObjectType.ParameterControl]=v.DashboardObjectType.ParameterControl,l[h.DashboardObjectType.QuickFilter]=v.DashboardObjectType.QuickFilter,l[h.DashboardObjectType.Text]=v.DashboardObjectType.Text,l[h.DashboardObjectType.Title]=v.DashboardObjectType.Title,l[h.DashboardObjectType.WebPage]=v.DashboardObjectType.WebPage,l[h.DashboardObjectType.Worksheet]=v.DashboardObjectType.Worksheet,l)),e.dataType=new _.EnumConverter(((c={})[h.DataType.Bool]=v.DataType.Bool,c[h.DataType.Date]=v.DataType.Date,c[h.DataType.DateTime]=v.DataType.DateTime,c[h.DataType.Float]=v.DataType.Float,c[h.DataType.Int]=v.DataType.Int,c[h.DataType.String]=v.DataType.String,c)),e.filterUpdateType=new _.EnumConverter(((p={})[h.FilterUpdateType.Add]=v.FilterUpdateType.Add,p[h.FilterUpdateType.All]=v.FilterUpdateType.All,p[h.FilterUpdateType.Remove]=v.FilterUpdateType.Remove,p[h.FilterUpdateType.Replace]=v.FilterUpdateType.Replace,p)),e.allowableValues=new _.EnumConverter(((f={})[h.DomainRestrictionType.All]=v.ParameterValueType.All,f[h.DomainRestrictionType.List]=v.ParameterValueType.List,f[h.DomainRestrictionType.Range]=v.ParameterValueType.Range,f)),e.dateStepPeriod=new _.EnumConverter(((d={})[h.DateStepPeriod.Years]=v.PeriodType.Years,d[h.DateStepPeriod.Quarters]=v.PeriodType.Quarters,d[h.DateStepPeriod.Months]=v.PeriodType.Months,d[h.DateStepPeriod.Weeks]=v.PeriodType.Weeks,d[h.DateStepPeriod.Days]=v.PeriodType.Days,d[h.DateStepPeriod.Hours]=v.PeriodType.Hours,d[h.DateStepPeriod.Minutes]=v.PeriodType.Minutes,d[h.DateStepPeriod.Seconds]=v.PeriodType.Seconds,d)),e.dateRangeType=new _.EnumConverter(((g={})[h.DateRangeType.Current]=v.DateRangeType.Current,g[h.DateRangeType.Last]=v.DateRangeType.Last,g[h.DateRangeType.LastN]=v.DateRangeType.LastN,g[h.DateRangeType.Next]=v.DateRangeType.Next,g[h.DateRangeType.NextN]=v.DateRangeType.NextN,g[h.DateRangeType.ToDate]=v.DateRangeType.ToDate,g)),e.errorCode=new _.EnumConverter(((y={})[h.ErrorCodes.INITIALIZATION_ERROR]=v.ErrorCodes.InternalError,y[h.ErrorCodes.INTERNAL_ERROR]=v.ErrorCodes.InternalError,y[h.ErrorCodes.MISSING_ENUM_MAPPING]=v.ErrorCodes.InternalError,y[h.ErrorCodes.MISSING_PARAMETER]=v.ErrorCodes.InternalError,y[h.ErrorCodes.PERMISSION_DENIED]=v.ErrorCodes.InternalError,y[h.ErrorCodes.PRES_MODEL_PARSING_ERROR]=v.ErrorCodes.InternalError,y[h.ErrorCodes.UNKNOWN_VERB_ID]=v.ErrorCodes.InternalError,y[h.ErrorCodes.VERSION_NOT_CONFIGURED]=v.ErrorCodes.APINotInitialized,y[h.ErrorCodes.VISIBILITY_ERROR]=v.ErrorCodes.VisibilityError,y),v.ErrorCodes.InternalError),e.filterType=new _.EnumConverter(((m={})[h.FilterType.Categorical]=v.FilterType.Categorical,m[h.FilterType.Range]=v.FilterType.Range,m[h.FilterType.RelativeDate]=v.FilterType.RelativeDate,m[h.FilterType.Hierarchical]=v.FilterType.Hierarchical,m)),e}();t.InternalToExternalEnumMappings=b},function(e,t){e.exports=!1},function(e,t,n){var r,a,i,o=n(113),s=n(2),u=n(8),l=n(16),c=n(9),p=n(39),f=n(29),d=s.WeakMap;if(o){var g=new d,y=g.get,m=g.has,v=g.set;r=function(e,t){return v.call(g,e,t),t},a=function(e){return y.call(g,e)||{}},i=function(e){return m.call(g,e)}}else{var h=p("state");f[h]=!0,r=function(e,t){return l(e,h,t),t},a=function(e){return c(e,h)?e[h]:{}},i=function(e){return c(e,h)}}e.exports={set:r,get:a,has:i,enforce:function(e){return i(e)?a(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(44),a=n(30);e.exports=function(e){return r(a(e))}},function(e,t){e.exports={}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(26);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(6),i=n(12),o=function(){function e(){}return e.serializeDateForPlatform=function(e){return e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()+" "+e.getUTCHours()+":"+e.getUTCMinutes()+":"+e.getUTCSeconds()},e.serializeBooleanForPlatform=function(e){return e?"true":"false"},e.serializeNumberForPlatform=function(e){return e.toString(10)},e.isTypeNumber=function(e){return"number"==typeof e||e instanceof Number},e.isTypeDate=function(e){return e instanceof Date},e.isTypeString=function(e){return"string"==typeof e||e instanceof String},e.isTypeBool=function(e){return"boolean"==typeof e||e instanceof Boolean},e.serializeParameterValue=function(t){if(e.isTypeNumber(t))return e.serializeNumberForPlatform(t);if(e.isTypeDate(t))return e.serializeDateForPlatform(t);if(e.isTypeBool(t))return e.serializeBooleanForPlatform(t);if(e.isTypeString(t))return t;throw new a.TableauError(r.ErrorCodes.InternalError,"Unexpected invalid value for: "+t)},e.convertParameterToMap=function(e,t){if(i.ErrorHelpers.verifyParameterType(e,"object",t),Array.isArray(e))throw new a.TableauError(r.ErrorCodes.InvalidParameter,"Expecting object or Map for: "+t+".");return e instanceof Map?e:new Map(Object.entries(e))},e}();t.Param=o},function(e,t){e.exports={}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(15).f,a=n(9),i=n(3)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(13),a=n(128),i=n(45),o=n(27),s=n(129),u=n(130),l=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,c,p){var f,g,y,m,v,h,_,b=o(t,n,c?2:1);if(p)f=e;else{if("function"!=typeof(g=s(e)))throw TypeError("Target is not iterable");if(a(g)){for(y=0,m=i(e.length);m>y;y++)if((v=c?b(r(_=e[y])[0],_[1]):b(e[y]))&&v instanceof l)return v;return new l(!1)}f=g.call(e)}for(h=f.next;!(_=h.call(f)).done;)if("object"==Object(d["a"])(v=u(f,b,_.value,c))&&v&&v instanceof l)return v;return new l(!1)}).stop=function(e){return new l(!0,e)}},function(e,t,n){var r={};r[n(3)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(2),a=n(16);e.exports=function(e,t){try{a(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(2),a=n(8),i=r.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(62),a=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return a.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(61),a=n(37),i=r("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(4),a=n(121),i=n(71),o=n(51),s=n(31),u=n(16),l=n(17),c=n(3),p=n(22),f=n(25),d=n(70),g=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v=function(){return this};e.exports=function(e,t,n,c,d,h,_){a(n,t,c);var b,I,T,A=function(e){if(e===d&&O)return O;if(!y&&e in w)return w[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",S=!1,w=e.prototype,D=w[m]||w["@@iterator"]||d&&w[d],O=!y&&D||A(d),x="Array"==t&&w.entries||D;if(x&&(b=i(x.call(new e)),g!==Object.prototype&&b.next&&(p||i(b)===g||(o?o(b,g):"function"!=typeof b[m]&&u(b,m,v)),s(b,E,!0,!0),p&&(f[E]=v))),"values"==d&&D&&"values"!==D.name&&(S=!0,O=function(){return D.call(this)}),p&&!_||w[m]===O||u(w,m,O),f[t]=O,d)if(I={values:A("values"),keys:h?O:A("keys"),entries:A("entries")},_)for(T in I)(y||S||!(T in w))&&l(w,T,I[T]);else r({target:t,proto:!0,forced:y||S},I);return I}},function(e,t,n){var r=n(10),a=n(43),i=n(36),o=n(24),s=n(64),u=n(9),l=n(63),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(u(e,t))return i(!a.f.call(e,t),e[t])}},function(e,t,n){var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!r.call({1:2},1);t.f=i?function(e){var t=a(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(7),a=n(19),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(40),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(7),a=/#|\.prototype\./,i=function(e,t){var n=s[o(e)];return n==l||n!=u&&("function"==typeof t?r(t):!!t)},o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},function(e,t,n){var r=n(30);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r,a=n(13),i=n(123),o=n(46),s=n(29),u=n(72),l=n(35),c=n(39),p=c("IE_PROTO"),f=function(){},d=function(e){return"<script>"+e+"<\/script>"},g=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;g=r?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=l("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete g.prototype[o[n]];return g()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=a(e),n=new f,f.prototype=null,n[p]=e):n=g(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(68),a=n(46);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t,n){var r=n(13),a=n(124);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),a(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(26),a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(6),i=function(){function e(){this._eventListenerManagers={}}return e.prototype.addEventListener=function(e,t){if(!this._eventListenerManagers.hasOwnProperty(e))throw new a.TableauError(r.ErrorCodes.UnsupportedEventName,"Cannot add event, unsupported event type: "+e);return this._eventListenerManagers[e].addEventListener(t)},e.prototype.removeEventListener=function(e,t){if(!this._eventListenerManagers.hasOwnProperty(e))throw new a.TableauError(r.ErrorCodes.UnsupportedEventName,"Cannot remove event, unsupported event type: "+e);return this._eventListenerManagers[e].removeEventListener(t)},e.prototype.addNewEventType=function(e){this._eventListenerManagers[e.eventType]=e},e}();t.EventListenerManager=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Initialize="initialize",e.Notification="notification",e.Command="command",e.CommandResponse="command-response",e.Handshake="v-handshake",e.Ack="v-ack"}(t.MessageType||(t.MessageType={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),i=n(6),o=function(){function e(e,t){this._mappings=e,this._defaultVal=t}return e.prototype.convert=function(e,t){if(void 0===t&&(t=r.Yes),this._mappings.hasOwnProperty(e))return this._mappings[e];if(void 0!==this._defaultVal&&t!==r.Yes)return this._defaultVal;throw new i.TableauError(a.ErrorCodes.InternalError,"Enum Mapping not found for: "+e)},e}();t.EnumConverter=o,function(e){e.Yes="yes",e.No="no"}(r=t.ShouldThrow||(t.ShouldThrow={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._eventType=e,this._handlers=[]}return Object.defineProperty(e.prototype,"eventType",{get:function(){return this._eventType},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e){var t=this;return this._handlers.push(e),function(){return t.removeEventListener(e)}},e.prototype.removeEventListener=function(e){var t=this._handlers.length;return this._handlers=this._handlers.filter((function(t){return t!==e})),t>this._handlers.length},e.prototype.triggerEvent=function(e){for(var t=0,n=this._handlers;t<n.length;t++){var r=n[t];try{r(e())}catch(e){continue}}},e}();t.SingleEventManagerImpl=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(108),a=n(1),i=function(){function e(){}return e.MakeParameterDataValue=function(e,t){return new r.DataValue(e.value,a.DataTypeConverter.convertStringValueToNativeValue(e.value,t),e.formattedValue)},e.MakeFilterDataValue=function(e){return new r.DataValue(e.value,e.value,e.formattedValue)},e.MakeTableDataValue=function(e,t){return new r.DataValue(e.value,a.DataTypeConverter.convertValueToNativeValue(e.value,t),e.formattedValue)},e}();t.DataValueFactory=i},function(e,t,n){var r=n(33),a=n(17),i=n(114);r||a(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,n){var r=n(22),a=n(62);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(2),a=n(34),i=r["__core-js_shared__"]||a("__core-js_shared__",{});e.exports=i},function(e,t,n){var r=n(10),a=n(7),i=n(35);e.exports=!r&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(7);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(33),a=n(19),i=n(3)("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?a(t):"Object"==(r=a(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(115).charAt,a=n(23),i=n(41),o=a.set,s=a.getterFor("String Iterator");i(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,a=t.index;return a>=n.length?{value:void 0,done:!0}:(e=r(n,a),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(9),a=n(24),i=n(119).indexOf,o=n(29);e.exports=function(e,t){var n,s=a(e),u=0,l=[];for(n in s)!r(o,n)&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(l,n)||l.push(n));return l}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r,a,i,o=n(71),s=n(16),u=n(9),l=n(3),c=n(22),p=l("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(a=o(o(i)))!==Object.prototype&&(r=a):f=!0),null==r&&(r={}),c||u(r,p)||s(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(9),a=n(48),i=n(39),o=n(122),s=i("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){var r=n(20);e.exports=r("document","documentElement")},function(e,t,n){var r=n(2),a=n(125),i=n(126),o=n(16),s=n(3),u=s("iterator"),l=s("toStringTag"),c=i.values;for(var p in a){var f=r[p],d=f&&f.prototype;if(d){if(d[u]!==c)try{o(d,u,c)}catch(e){d[u]=c}if(d[l]||o(d,l,p),a[p])for(var g in i)if(d[g]!==i[g])try{o(d,g,i[g])}catch(e){d[g]=i[g]}}}},function(e,t,n){var r=n(3),a=n(49),i=n(15),o=r("unscopables"),s=Array.prototype;null==s[o]&&i.f(s,o,{configurable:!0,value:a(null)}),e.exports=function(e){s[o][e]=!0}},function(e,t,n){var r=n(2);e.exports=r.Promise},function(e,t,n){var r=n(17);e.exports=function(e,t,n){for(var a in t)r(e,a,t[a],n);return e}},function(e,t,n){var r=n(20),a=n(15),i=n(3),o=n(10),s=i("species");e.exports=function(e){var t=r(e),n=a.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(3)("iterator"),a=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){a=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){var r=n(13),a=n(26),i=n(3)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[i])?t:a(n)}},function(e,t,n){var r,a,i,o=n(2),s=n(7),u=n(19),l=n(27),c=n(72),p=n(35),f=n(81),d=o.location,g=o.setImmediate,y=o.clearImmediate,m=o.process,v=o.MessageChannel,h=o.Dispatch,_=0,b={},I=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},T=function(e){return function(){I(e)}},A=function(e){I(e.data)},E=function(e){o.postMessage(e+"",d.protocol+"//"+d.host)};g&&y||(g=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(_),_},y=function(e){delete b[e]},"process"==u(m)?r=function(e){m.nextTick(T(e))}:h&&h.now?r=function(e){h.now(T(e))}:v&&!f?(i=(a=new v).port2,a.port1.onmessage=A,r=l(i.postMessage,i,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(E)||"file:"===d.protocol?r="onreadystatechange"in p("script")?function(e){c.appendChild(p("script")).onreadystatechange=function(){c.removeChild(this),I(e)}}:function(e){setTimeout(T(e),0)}:(r=E,o.addEventListener("message",A,!1))),e.exports={set:g,clear:y}},function(e,t,n){var r=n(82);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(20);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(13),a=n(8),i=n(53);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){var r=n(29),a=n(8),i=n(9),o=n(15).f,s=n(37),u=n(139),l=s("meta"),c=0,p=Object.isExtensible||function(){return!0},f=function(e){o(e,l,{value:{objectID:"O"+ ++c,weakData:{}}})},g=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==Object(d["a"])(e)?e:("string"==typeof e?"S":"P")+e;if(!i(e,l)){if(!p(e))return"F";if(!t)return"E";f(e)}return e[l].objectID},getWeakData:function(e,t){if(!i(e,l)){if(!p(e))return!0;if(!t)return!1;f(e)}return e[l].weakData},onFreeze:function(e){return u&&g.REQUIRED&&p(e)&&!i(e,l)&&f(e),e}};r[l]=!0},function(e,t,n){n(149);var r=n(11);e.exports=r.Object.assign},function(e,t,n){n(156);var r=n(11);e.exports=r.Number.isNaN},function(e,t,n){n(157);var r=n(11);e.exports=r.Number.isInteger},function(e,t,n){var r=n(30),a="["+n(54)+"]",i=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this)||this;return n._sheetImpl=t,n}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._sheetImpl.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sheetType",{get:function(){return this._sheetImpl.sheetType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._sheetImpl.size},enumerable:!0,configurable:!0}),t.prototype.findParameterAsync=function(e){return this._sheetImpl.findParameterAsync(e,this)},t.prototype.getParametersAsync=function(){return this._sheetImpl.getParametersAsync(this)},t}(n(55).EventListenerManager);t.Sheet=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(167),a=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return e._instance},enumerable:!0,configurable:!0}),e.SetVersionNumber=function(t,n){e._instance=new r.VersionNumber(t,n)},e}();t.ApiVersion=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Desktop="desktop",e.Server="server",e.Unknown="unknown"}(t.ExtensionContext||(t.ExtensionContext={})),function(e){e.Authoring="authoring",e.Viewing="viewing",e.Unknown="unknown"}(t.ExtensionMode||(t.ExtensionMode={})),function(e){e.Discrete="discrete",e.Continuous="continuous"}(t.ColumnType||(t.ColumnType={})),function(e){e.Blank="blank",e.Worksheet="worksheet",e.QuickFilter="quick-filter",e.ParameterControl="parameter-control",e.PageFilter="page-filter",e.Legend="legend",e.Title="title",e.Text="text",e.Image="image",e.WebPage="web-page",e.Extension="extension"}(t.DashboardObjectType||(t.DashboardObjectType={})),function(e){e.String="string",e.Int="int",e.Float="float",e.Bool="bool",e.Date="date",e.DateTime="date-time",e.Spatial="spatial"}(t.DataType||(t.DataType={})),function(e){e.Number="number",e.String="string",e.Date="date",e.Boolean="boolean"}(t.EncodedDataType||(t.EncodedDataType={})),function(e){e.INITIALIZATION_ERROR="initialization-error",e.INTERNAL_ERROR="internal-error",e.MISSING_ENUM_MAPPING="missing-enum-mapping",e.MISSING_PARAMETER="missing-parameter",e.PERMISSION_DENIED="permission-denied",e.PRES_MODEL_PARSING_ERROR="pres-model-parsing-error",e.VERSION_NOT_CONFIGURED="version-not-configured",e.VISIBILITY_ERROR="visibility-error",e.UNKNOWN_VERB_ID="unknown-verb-id"}(t.ErrorCodes||(t.ErrorCodes={})),function(e){e.Sum="sum",e.Avg="avg",e.Min="min",e.Max="max",e.Stdev="stdev",e.Stdevp="stdevp",e.Var="var",e.Varp="varp",e.Count="count",e.Countd="countd",e.Median="median",e.Attr="attr",e.None="none",e.Year="year",e.Qtr="qtr",e.Month="month",e.Day="day",e.Hour="hour",e.Minute="minute",e.Second="second",e.Week="week",e.Weekday="weekday",e.MonthYear="month-year",e.Mdy="mdy",e.End="end",e.TruncYear="trunc-year",e.TruncQtr="trunc-qtr",e.TruncMonth="trunc-month",e.TruncWeek="trunc-week",e.TruncDay="trunc-day",e.TruncHour="trunc-hour",e.TruncMinute="trunc-minute",e.TruncSecond="trunc-second",e.Quart1="quart1",e.Quart3="quart3",e.Skewness="skewness",e.Kurtosis="kurtosis",e.InOut="in-out",e.User="user"}(t.FieldAggregationType||(t.FieldAggregationType={})),function(e){e.Dimension="dimension",e.Measure="measure",e.Unknown="unknown"}(t.FieldRoleType||(t.FieldRoleType={})),function(e){e.Add="add",e.All="all",e.Replace="replace",e.Remove="remove"}(t.FilterUpdateType||(t.FilterUpdateType={})),function(e){e.Dashboard="dashboard",e.Story="story",e.Worksheet="worksheet"}(t.SheetType||(t.SheetType={})),function(e){e.All="all",e.List="list",e.Range="range"}(t.DomainRestrictionType||(t.DomainRestrictionType={})),function(e){e.Years="years",e.Quarters="quarters",e.Months="months",e.Weeks="weeks",e.Days="days",e.Hours="hours",e.Minutes="minutes",e.Seconds="seconds"}(t.DateStepPeriod||(t.DateStepPeriod={})),function(e){e.NullValues="nullvalues",e.NonNullValues="nonnullvalues",e.AllValues="allvalues"}(t.FilterNullOption||(t.FilterNullOption={})),function(e){e.Relevant="relevant",e.Database="database"}(t.FilterDomainType||(t.FilterDomainType={})),function(e){e.Replace="select-replace",e.Add="select-add",e.Remove="select-remove"}(t.SelectionUpdateType||(t.SelectionUpdateType={})),function(e){e.IncludeNull="include-null",e.IncludeNonNull="include-non-null",e.IncludeAll="include-all"}(t.QuantitativeIncludedValues||(t.QuantitativeIncludedValues={})),function(e){e.Bar="bar",e.Line="line",e.Area="area",e.Square="square",e.Circle="circle",e.Shape="shape",e.Text="text",e.Map="map",e.Pie="pie",e.GanttBar="gantt-bar",e.Polygon="polygon"}(t.MarkType||(t.MarkType={})),function(e){e.Categorical="categorical",e.Range="range",e.RelativeDate="relativeDate",e.Hierarchical="hierarchical"}(t.FilterType||(t.FilterType={})),function(e){e.Last="last",e.LastN="lastN",e.Next="next",e.NextN="nextN",e.Current="current",e.ToDate="toDate"}(t.DateRangeType||(t.DateRangeType={})),function(e){e.DialogAlreadyOpen="dialog-already-open",e.InvalidDomain="invalid-domain",e.Success="success"}(t.ExtensionDialogResult||(t.ExtensionDialogResult={})),function(e){e.SingleTableId="single-table-id-sentinel",e.SingleTableCaption="Single table id sentinel"}(t.ApiShowDataTableSentinel||(t.ApiShowDataTableSentinel={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SelectedMarksChanged="selected-marks-changed",e.ParameterChanged="parameter-changed",e.FilterChanged="filter-changed",e.ExtensionDialogUpdate="extension-dialog-update",e.SettingsChanged="settings-changed",e.ContextMenuClick="context-menu-click",e.TestConversionNotification="test-conversion-notification"}(t.NotificationId||(t.NotificationId={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(171),a=n(172),i=n(173);function o(e,t){return e.major===t.major&&e.minor===t.minor}function s(e,t,n,i,s){var l=e.major,c=e.minor,p=t.major;if(l>p)throw new Error("External version must be less than or equal to platform version.\n    externalMajorVersion="+l+" platformMajorVersion="+p);if(o(e,t))return new a.IdentityVersionConverter;var f=u(l,p,c,n),d=u(l,p,c,i),g=u(l,p,c,s);return d.reverse(),g.reverse(),r.StackingVersionConverter.fromData(e,t,f,d,g)}function u(e,t,n,r){for(var a=[],i=e;i<=t;i++)if(i in r)for(var o=i===e?n:0,s=l(Object.keys(r[i])),u=o;u<=s;u++)u in r[i]&&a.push.apply(a,r[i][u]);return a}function l(e){return e.map((function(e){return Number(e)})).reduce((function(e,t){return e>t?e:t}))}t.VersionLessThan=function(e,t){return!(e.major>t.major)&&(e.major<t.major||e.minor<t.minor)},t.VersionEqualTo=o,t.CreateVersionConverter=function(e,t){var n={0:[]},o={0:[],1:[i.DowngradeV2WorksheetNames]},s={0:[]};if(!Number.isInteger(e)||!Number.isInteger(t)||e<0||t<0)throw new Error("Versions must be positive integers:\n    externalMajorVersion="+e+" platformMajorVersion="+t);if(e>t)throw new Error("External version must be less than or equal to platform version.\n    externalMajorVersion="+e+" platformMajorVersion="+t);if(e===t)return new a.IdentityVersionConverter;for(var u=[],l=e;l<t;l++)l in n&&u.push.apply(u,n[l]);var c=[],p=[];for(l=t-1;l>=e;l--)l in o&&c.push.apply(c,o[l]),l in s&&p.push.apply(p,s[l]);return new r.StackingVersionConverter(e,t,u,c,p)},t.ExecuteMinorUpgrades={1:{9:[]}},t.ExecuteMinorDowngrades={1:{9:[]}},t.NotificationMinorDowngrades={1:{9:[],10:[i.DowngradeFlipboardZoneID]}},t.CreateCompatibleVersionConverter=function(e,n){return s(e,n,t.ExecuteMinorUpgrades,t.ExecuteMinorDowngrades,t.NotificationMinorDowngrades)},t.CreateCompatibleVersionConverterWithTranslators=s,t.GetMaximumMinorIndex=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.downgradeExecuteCall=function(e,t){return{verb:e,parameters:t}},e.prototype.upgradeExecuteReturn=function(e){return e},e.prototype.upgradeNotification=function(e){return e},e}();t.ExternalIdentityVersionConverter=r},function(e,t,n){!function(){var t=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");function n(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t}function r(e){if(!e)throw new TypeError("Invalid argument; `value` has no value.");this.value=r.EMPTY,e&&e instanceof r?this.value=e.toString():e&&"[object String]"===Object.prototype.toString.call(e)&&r.isGuid(e)&&(this.value=e),this.equals=function(e){return r.isGuid(e)&&this.value==e},this.isEmpty=function(){return this.value===r.EMPTY},this.toString=function(){return this.value},this.toJSON=function(){return this.value}}r.EMPTY="00000000-0000-0000-0000-000000000000",r.isGuid=function(e){return e&&(e instanceof r||t.test(e.toString()))},r.create=function(){return new r([n(2),n(1),n(1),n(1),n(3)].join("-"))},r.raw=function(){return[n(2),n(1),n(1),n(1),n(3)].join("-")},e.exports?e.exports=r:"undefined"!=typeof window&&(window.Guid=r)}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._type=e}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),e}();t.TableauEvent=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),a=n(12),i=function(){function e(e){this._sheetInfoImpl=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this._sheetInfoImpl.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sheetType",{get:function(){return this._sheetInfoImpl.sheetType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sheetPath",{get:function(){return this._sheetInfoImpl.sheetPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._sheetInfoImpl.sheetSize},enumerable:!0,configurable:!0}),e.prototype.findParameterAsync=function(e,t){return a.ErrorHelpers.verifyParameter(e,"parameterName"),a.ErrorHelpers.verifyParameter(t,"sheet"),r.ApiServiceRegistry.instance.getService("parameters-service").findParameterByNameAsync(e,t)},e.prototype.getParametersAsync=function(e){return a.ErrorHelpers.verifyParameter(e,"sheet"),r.ApiServiceRegistry.instance.getService("parameters-service").getParametersForSheetAsync(this.sheetPath,e)},e}();t.SheetImpl=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._dataSourceImpl=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this._dataSourceImpl.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._dataSourceImpl.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fields",{get:function(){return this._dataSourceImpl.fields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extractUpdateTime",{get:function(){return this._dataSourceImpl.extractUpdateTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExtract",{get:function(){return this._dataSourceImpl.isExtract},enumerable:!0,configurable:!0}),e.prototype.refreshAsync=function(){return this._dataSourceImpl.refreshAsync()},e.prototype.getActiveTablesAsync=function(){return console.warn("DataSource.getActiveTablesAsync is deprecated. Please use DataSource.getLogicalTablesAsync."),this._dataSourceImpl.getActiveTablesAsync()},e.prototype.getConnectionSummariesAsync=function(){return this._dataSourceImpl.getConnectionSummariesAsync()},e.prototype.getUnderlyingDataAsync=function(e){return console.warn("DataSource.getUnderlyingDataAsync is deprecated. Please use DataSource.getLogicalTablesAsync and DataSource.getLogicalTableDataAsync."),this._dataSourceImpl.getUnderlyingDataAsync(e)},e.prototype.getLogicalTablesAsync=function(){return this._dataSourceImpl.getLogicalTablesAsync()},e.prototype.getLogicalTableDataAsync=function(e,t){return this._dataSourceImpl.getLogicalTableDataAsync(e,t)},e}();t.DataSource=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(101),a=n(188),i=n(102),o=n(189),s=n(14),u=n(12),l=n(103),c=function(){function e(e){var t=this;this._dataSourceInfo=e,this._fields=e.fields.map((function(e){var n=new r.FieldImpl(e,t);return new i.Field(n)}))}return Object.defineProperty(e.prototype,"name",{get:function(){return this._dataSourceInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._dataSourceInfo.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extractUpdateTime",{get:function(){return this._dataSourceInfo.extractUpdateTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExtract",{get:function(){return this._dataSourceInfo.isExtract},enumerable:!0,configurable:!0}),e.prototype.refreshAsync=function(){return s.ApiServiceRegistry.instance.getService("data-source-service").refreshAsync(this._dataSourceInfo.id)},e.prototype.getConnectionSummariesAsync=function(){return s.ApiServiceRegistry.instance.getService("data-source-service").getConnectionSummariesAsync(this._dataSourceInfo.id).then((function(e){return e.map((function(e){return new a.ConnectionSummary(e)}))}))},e.prototype.getActiveTablesAsync=function(){return s.ApiServiceRegistry.instance.getService("data-source-service").getActiveTablesAsync(this._dataSourceInfo.id).then((function(e){return e.map((function(e){return new o.TableSummary(e)}))}))},e.prototype.getUnderlyingDataAsync=function(e){return e=e||{},s.ApiServiceRegistry.instance.getService("get-data-service").getDataSourceDataAsync(this.id,!!e.ignoreAliases,e.maxRows||0,e.columnsToInclude||[])},e.prototype.getLogicalTableDataAsync=function(e,t){return t=t||{},s.ApiServiceRegistry.instance.getService("get-data-service").getLogicalTableDataAsync(this.id,e,!!t.ignoreAliases,t.maxRows||0,t.columnsToInclude||[])},e.prototype.initializeWithPublicInterfaces=function(e){u.ErrorHelpers.verifyInternalValue(e,"dataSource"),this._fields=this._dataSourceInfo.fields.map((function(t){var n=new r.FieldImpl(t,e);return new i.Field(n)}))},e.prototype.getLogicalTablesAsync=function(){return s.ApiServiceRegistry.instance.getService("data-source-service").getLogicalTablesAsync(this.id).then((function(e){return e.map((function(e){return new l.LogicalTable(e)}))}))},e}();t.DataSourceImpl=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),a=function(){function e(e,t){this._fieldInfo=e,this._parentDataSource=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._fieldInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._fieldInfo.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this._fieldInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aggregation",{get:function(){return r.InternalToExternalEnumMappings.fieldAggregationType.convert(this._fieldInfo.aggregation)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._parentDataSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return r.InternalToExternalEnumMappings.fieldRoleType.convert(this._fieldInfo.role)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this._fieldInfo.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isGenerated",{get:function(){return this._fieldInfo.isGenerated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCalculatedField",{get:function(){return this._fieldInfo.isCalculatedField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCombinedField",{get:function(){return this._fieldInfo.isCombinedField},enumerable:!0,configurable:!0}),e}();t.FieldImpl=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=function(){function e(e){this._fieldImpl=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this._fieldImpl.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._fieldImpl.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this._fieldImpl.description},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aggregation",{get:function(){return this._fieldImpl.aggregation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._fieldImpl.dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return this._fieldImpl.role},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this._fieldImpl.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isGenerated",{get:function(){return this._fieldImpl.isGenerated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCalculatedField",{get:function(){return this._fieldImpl.isCalculatedField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnType",{get:function(){throw r.ErrorHelpers.apiNotImplemented("Field.columnType")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCombinedField",{get:function(){return this._fieldImpl.isCombinedField},enumerable:!0,configurable:!0}),e}();t.Field=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._logicalTable=e}return Object.defineProperty(e.prototype,"id",{get:function(){return this._logicalTable.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._logicalTable.caption},enumerable:!0,configurable:!0}),e}();t.LogicalTable=r},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._worksheet=n,r}return a(t,e),Object.defineProperty(t.prototype,"worksheet",{get:function(){return this._worksheet},enumerable:!0,configurable:!0}),t}(n(105).TableauSheetEvent);t.TableauWorksheetEvent=i},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var r=e.call(this,t)||this;return r._sheet=n,r}return a(t,e),Object.defineProperty(t.prototype,"sheet",{get:function(){return this._sheet},enumerable:!0,configurable:!0}),t}(n(97).TableauEvent);t.TableauSheetEvent=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Summary="summary",e.Underlying="underlying"}(t.GetDataType||(t.GetDataType={}))},function(e,t,n){var r,a,i,o;Object.defineProperty(t,"__esModule",{value:!0});var s=n(57),u=n(0),l=n(1),c=function(){function e(){}return e.filterDomainType=new s.EnumConverter(((r={})[u.FilterDomainType.Relevant]=l.FilterDomainType.Relevant,r[u.FilterDomainType.Database]=l.FilterDomainType.Database,r)),e.nullOptions=new s.EnumConverter(((a={})[u.FilterNullOption.AllValues]=l.FilterNullOption.AllValues,a[u.FilterNullOption.NonNullValues]=l.FilterNullOption.NonNullValues,a[u.FilterNullOption.NullValues]=l.FilterNullOption.NullValues,a)),e.filterUpdateType=new s.EnumConverter(((i={})[u.FilterUpdateType.Add]=l.FilterUpdateType.Add,i[u.FilterUpdateType.All]=l.FilterUpdateType.All,i[u.FilterUpdateType.Remove]=l.FilterUpdateType.Remove,i[u.FilterUpdateType.Replace]=l.FilterUpdateType.Replace,i)),e.setVisibilityType=new s.EnumConverter(((o={})[u.ZoneVisibilityType.Show]=!0,o[u.ZoneVisibilityType.Hide]=!1,o)),e}();t.ExternalToInternalEnumMappings=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,a,i){this._data=e,this._columns=t,this._totalRowCount=n,this._isTotalRowCountLimited=r,this._isSummaryData=a,this._marksInfo=i,this._name=a?"Summary Data Table":"Underlying Data Table"}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marksInfo",{get:function(){return this._marksInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalRowCount",{get:function(){return this._totalRowCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTotalRowCountLimited",{get:function(){return this._isTotalRowCountLimited},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSummaryData",{get:function(){return this._isSummaryData},enumerable:!0,configurable:!0}),e}();t.DataTable=r;var a=function(){function e(e,t,n){this._type=e,this._color=t,this._tupleId=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tupleId",{get:function(){return this._tupleId},enumerable:!0,configurable:!0}),e}();t.MarkInfo=a;var i=function(){function e(e,t,n,r){this._fieldName=e,this._dataType=t,this._isReferenced=n,this._index=r}return Object.defineProperty(e.prototype,"fieldName",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){return this._dataType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReferenced",{get:function(){return this._isReferenced},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),e}();t.Column=i;var o=function(){function e(e,t,n){this._value=e,this._nativeValue=t,this._formattedValue=n}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeValue",{get:function(){return this._nativeValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedValue",{get:function(){return this._formattedValue},enumerable:!0,configurable:!0}),e}();t.DataValue=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(110),n(136),n(142),n(86),n(151),n(154),n(87),n(88),n(159),n(162);var r=n(165),a=n(219),i=n(5),o="undefined"!=typeof EXTENSION_VERSION_IS_ALPHA&&EXTENSION_VERSION_IS_ALPHA;i.ApiVersion.SetVersionNumber("1.4.0-pre.22",o);var s=new r.ExtensionsImpl;t.extensions=new a.Extensions(s);var u=n(0);t.ExtensionContext=u.ExtensionContext,t.ExtensionMode=u.ExtensionMode,t.AnalyticsObjectType=u.AnalyticsObjectType,t.ColumnType=u.ColumnType,t.DashboardObjectType=u.DashboardObjectType,t.DataType=u.DataType,t.DateRangeType=u.DateRangeType,t.EncodingType=u.EncodingType,t.ErrorCodes=u.ErrorCodes,t.FieldAggregationType=u.FieldAggregationType,t.FieldRoleType=u.FieldRoleType,t.FilterDomainType=u.FilterDomainType,t.FilterType=u.FilterType,t.FilterUpdateType=u.FilterUpdateType,t.FilterNullOption=u.FilterNullOption,t.MarkType=u.MarkType,t.ParameterValueType=u.ParameterValueType,t.PeriodType=u.PeriodType,t.QuickTableCalcType=u.QuickTableCalcType,t.SelectionUpdateType=u.SelectionUpdateType,t.SheetType=u.SheetType,t.SortDirection=u.SortDirection,t.TableauEventType=u.TableauEventType,t.TrendLineModelType=u.TrendLineModelType,t.ZoneVisibilityType=u.ZoneVisibilityType},function(e,t,n){n(60),n(67),n(73),n(127),n(134),n(135);var r=n(11);e.exports=r.Promise},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"===typeof window?"undefined":Object(d["a"])(window))&&(n=window)}e.exports=n},function(e,t,n){var r=n(65);e.exports=r&&!Symbol.sham&&"symbol"==Object(d["a"])(Symbol.iterator)},function(e,t,n){var r=n(2),a=n(38),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(a(i))},function(e,t,n){var r=n(33),a=n(66);e.exports=r?{}.toString:function(){return"[object "+a(this)+"]"}},function(e,t,n){var r=n(40),a=n(30),i=function(e){return function(t,n){var i,o,s=String(a(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):i:e?s.slice(u,u+2):o-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,n){var r=n(9),a=n(117),i=n(42),o=n(15);e.exports=function(e,t){for(var n=a(t),s=o.f,u=i.f,l=0;l<n.length;l++){var c=n[l];r(e,c)||s(e,c,u(t,c))}}},function(e,t,n){var r=n(20),a=n(118),i=n(69),o=n(13);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(68),a=n(46).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t,n){var r=n(24),a=n(45),i=n(120),o=function(e){return function(t,n,o){var s,u=r(t),l=a(u.length),c=i(o,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var r=n(40),a=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?a(n+t,0):i(n,t)}},function(e,t,n){var r=n(70).IteratorPrototype,a=n(49),i=n(36),o=n(31),s=n(25),u=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=a(r,{next:i(1,n)}),o(e,l,!1,!0),s[l]=u,e}},function(e,t,n){var r=n(7);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(10),a=n(15),i=n(13),o=n(50);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=o(t),s=r.length,u=0;s>u;)a.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(24),a=n(74),i=n(25),o=n(23),s=n(41),u=o.set,l=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},function(e,t,n){var r,a,i,o,s=n(4),u=n(22),l=n(2),c=n(20),p=n(75),f=n(17),d=n(76),g=n(31),y=n(77),m=n(8),v=n(26),h=n(52),_=n(19),b=n(38),I=n(32),T=n(78),A=n(79),E=n(80).set,S=n(131),w=n(83),D=n(132),O=n(53),x=n(84),P=n(23),R=n(47),M=n(3),V=n(133),N=M("species"),C="Promise",j=P.get,k=P.set,F=P.getterFor(C),L=p,U=l.TypeError,H=l.document,W=l.process,z=c("fetch"),G=O.f,B=G,Y="process"==_(W),K=!!(H&&H.createEvent&&l.dispatchEvent),Q=R(C,(function(){if(b(L)===String(L)){if(66===V)return!0;if(!Y&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!L.prototype.finally)return!0;if(V>=51&&/native code/.test(L))return!1;var e=L.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[N]=t,!(e.then((function(){}))instanceof t)})),q=Q||!T((function(e){L.all(e).catch((function(){}))})),Z=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},$=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;S((function(){for(var a=t.value,i=1==t.state,o=0;r.length>o;){var s,u,l,c=r[o++],p=i?c.ok:c.fail,f=c.resolve,d=c.reject,g=c.domain;try{p?(i||(2===t.rejection&&te(e,t),t.rejection=1),!0===p?s=a:(g&&g.enter(),s=p(a),g&&(g.exit(),l=!0)),s===c.promise?d(U("Promise-chain cycle")):(u=Z(s))?u.call(s,f,d):f(s)):d(a)}catch(e){g&&!l&&g.exit(),d(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&X(e,t)}))}},J=function(e,t,n){var r,a;K?((r=H.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},(a=l["on"+e])?a(r):"unhandledrejection"===e&&D("Unhandled promise rejection",n)},X=function(e,t){E.call(l,(function(){var n,r=t.value;if(ee(t)&&(n=x((function(){Y?W.emit("unhandledRejection",r,e):J("unhandledrejection",e,r)})),t.rejection=Y||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){E.call(l,(function(){Y?W.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)}))},ne=function(e,t,n,r){return function(a){e(t,n,a,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,$(e,t,!0))},ae=function e(t,n,r,a){if(!n.done){n.done=!0,a&&(n=a);try{if(t===r)throw U("Promise can't be resolved itself");var i=Z(r);i?S((function(){var a={done:!1};try{i.call(r,ne(e,t,a,n),ne(re,t,a,n))}catch(r){re(t,a,r,n)}})):(n.value=r,n.state=1,$(t,n,!1))}catch(r){re(t,{done:!1},r,n)}}};Q&&(L=function(e){h(this,L,C),v(e),r.call(this);var t=j(this);try{e(ne(ae,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){k(this,{type:C,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(L.prototype,{then:function(e,t){var n=F(this),r=G(A(this,L));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Y?W.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&$(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r,t=j(e);this.promise=e,this.resolve=ne(ae,e,t),this.reject=ne(re,e,t)},O.f=G=function(e){return e===L||e===i?new a(e):B(e)},u||"function"!=typeof p||(o=p.prototype.then,f(p.prototype,"then",(function(e,t){var n=this;return new L((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof z&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return w(L,z.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:Q},{Promise:L}),g(L,C,!1,!0),y(C),i=c(C),s({target:C,stat:!0,forced:Q},{reject:function(e){var t=G(this);return t.reject.call(void 0,e),t.promise}}),s({target:C,stat:!0,forced:u||Q},{resolve:function(e){return w(u&&this===i?L:this,e)}}),s({target:C,stat:!0,forced:q},{all:function(e){var t=this,n=G(t),r=n.resolve,a=n.reject,i=x((function(){var n=v(t.resolve),i=[],o=0,s=1;I(e,(function(e){var u=o++,l=!1;i.push(void 0),s++,n.call(t,e).then((function(e){l||(l=!0,i[u]=e,--s||r(i))}),a)})),--s||r(i)}));return i.error&&a(i.value),n.promise},race:function(e){var t=this,n=G(t),r=n.reject,a=x((function(){var a=v(t.resolve);I(e,(function(e){a.call(t,e).then(n.resolve,r)}))}));return a.error&&r(a.value),n.promise}})},function(e,t,n){var r=n(3),a=n(25),i=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},function(e,t,n){var r=n(66),a=n(25),i=n(3)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){var r=n(13);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r,a,i,o,s,u,l,c,p=n(2),f=n(42).f,d=n(19),g=n(80).set,y=n(81),m=p.MutationObserver||p.WebKitMutationObserver,v=p.process,h=p.Promise,_="process"==d(v),b=f(p,"queueMicrotask"),I=b&&b.value;I||(r=function(){var e,t;for(_&&(e=v.domain)&&e.exit();a;){t=a.fn,a=a.next;try{t()}catch(e){throw a?o():i=void 0,e}}i=void 0,e&&e.enter()},_?o=function(){v.nextTick(r)}:m&&!y?(s=!0,u=document.createTextNode(""),new m(r).observe(u,{characterData:!0}),o=function(){u.data=s=!s}):h&&h.resolve?(l=h.resolve(void 0),c=l.then,o=function(){c.call(l,r)}):o=function(){g.call(p,r)}),e.exports=I||function(e){var t={fn:e,next:void 0};i&&(i.next=t),a||(a=t,o()),i=t}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){var r,a,i=n(2),o=n(82),s=i.process,u=s&&s.versions,l=u&&u.v8;l?a=(r=l.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(a=r[1]),e.exports=a&&+a},function(e,t,n){var r=n(4),a=n(26),i=n(53),o=n(84),s=n(32);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=i.f(t),r=n.resolve,u=n.reject,l=o((function(){var n=a(t.resolve),i=[],o=0,u=1;s(e,(function(e){var a=o++,s=!1;i.push(void 0),u++,n.call(t,e).then((function(e){s||(s=!0,i[a]={status:"fulfilled",value:e},--u||r(i))}),(function(e){s||(s=!0,i[a]={status:"rejected",reason:e},--u||r(i))}))})),--u||r(i)}));return l.error&&u(l.value),n.promise}})},function(e,t,n){var r=n(4),a=n(22),i=n(75),o=n(7),s=n(20),u=n(79),l=n(83),c=n(17);r({target:"Promise",proto:!0,real:!0,forced:!!i&&o((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),a||"function"!=typeof i||i.prototype.finally||c(i.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){n(137),n(60),n(67),n(73);var r=n(11);e.exports=r.Map},function(e,t,n){var r=n(138),a=n(141);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a)},function(e,t,n){var r=n(4),a=n(2),i=n(47),o=n(17),s=n(85),u=n(32),l=n(52),c=n(8),p=n(7),f=n(78),d=n(31),g=n(140);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),v=y?"set":"add",h=a[e],_=h&&h.prototype,b=h,I={},T=function(e){var t=_[e];o(_,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof h||!(m||_.forEach&&!p((function(){(new h).entries().next()})))))b=n.getConstructor(t,e,y,v),s.REQUIRED=!0;else if(i(e,!0)){var A=new b,E=A[v](m?{}:-0,1)!=A,S=p((function(){A.has(1)})),w=f((function(e){new h(e)})),D=!m&&p((function(){for(var e=new h,t=5;t--;)e[v](t,t);return!e.has(-0)}));w||((b=t((function(t,n){l(t,b,e);var r=g(new h,t,b);return null!=n&&u(n,r[v],r,y),r}))).prototype=_,_.constructor=b),(S||D)&&(T("delete"),T("has"),y&&T("get")),(D||E)&&T(v),m&&_.clear&&delete _.clear}return I[e]=b,r({global:!0,forced:b!=h},I),d(b,e),m||n.setStrong(b,e,y),b}},function(e,t,n){var r=n(7);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){var r=n(8),a=n(51);e.exports=function(e,t,n){var i,o;return a&&"function"==typeof(i=t.constructor)&&i!==n&&r(o=i.prototype)&&o!==n.prototype&&a(e,o),e}},function(e,t,n){var r=n(15).f,a=n(49),i=n(76),o=n(27),s=n(52),u=n(32),l=n(41),c=n(77),p=n(10),f=n(85).fastKey,d=n(23),g=d.set,y=d.getterFor;e.exports={getConstructor:function(e,t,n,l){var c=e((function(e,r){s(e,c,t),g(e,{type:t,index:a(null),first:void 0,last:void 0,size:0}),p||(e.size=0),null!=r&&u(r,e[l],e,n)})),d=y(t),m=function(e,t,n){var r,a,i=d(e),o=v(e,t);return o?o.value=n:(i.last=o={index:a=f(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=o),r&&(r.next=o),p?i.size++:e.size++,"F"!==a&&(i.index[a]=o)),e},v=function(e,t){var n,r=d(e),a=f(t);if("F"!==a)return r.index[a];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(c.prototype,{clear:function(){for(var e=d(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=d(this),n=v(this,e);if(n){var r=n.next,a=n.previous;delete t.index[n.index],n.removed=!0,a&&(a.next=r),r&&(r.previous=a),t.first==n&&(t.first=r),t.last==n&&(t.last=a),p?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=d(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),i(c.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),p&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(e,t,n){var r=t+" Iterator",a=y(t),i=y(r);l(e,t,(function(e,t){g(this,{type:r,target:e,state:a(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(t)}}},function(e,t,n){n(143);var r=n(148);e.exports=r("Array","find")},function(e,t,n){var r=n(4),a=n(144).find,i=n(74),o=n(147),s=!0,u=o("find");"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!u},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,n){var r=n(27),a=n(44),i=n(48),o=n(45),s=n(145),u=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,c=4==e,p=6==e,f=5==e||p;return function(d,g,y,m){for(var v,h,_=i(d),b=a(_),I=r(g,y,3),T=o(b.length),A=0,E=m||s,S=t?E(d,T):n?E(d,0):void 0;T>A;A++)if((f||A in b)&&(h=I(v=b[A],A,_),e))if(t)S[A]=h;else if(h)switch(e){case 3:return!0;case 5:return v;case 6:return A;case 2:u.call(S,v)}else if(c)return!1;return p?-1:l||c?c:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,n){var r=n(8),a=n(146),i=n(3)("species");e.exports=function(e,t){var n;return a(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!a(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(19);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(10),a=n(7),i=n(9),o=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var n=[][e],l=!!i(t,"ACCESSORS")&&t.ACCESSORS,c=i(t,0)?t[0]:u,p=i(t,1)?t[1]:void 0;return s[e]=!!n&&!a((function(){if(l&&!r)return!0;var e={length:-1};l?o(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,c,p)}))}},function(e,t,n){var r=n(2),a=n(27),i=Function.call;e.exports=function(e,t,n){return a(i,r[e].prototype[t],n)}},function(e,t,n){var r=n(4),a=n(150);r({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},function(e,t,n){var r=n(10),a=n(7),i=n(50),o=n(69),s=n(43),u=n(48),l=n(44),c=Object.assign,p=Object.defineProperty;e.exports=!c||a((function(){if(r&&1!==c({b:1},c(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||"abcdefghijklmnopqrst"!=i(c({},t)).join("")}))?function(e,t){for(var n=u(e),a=arguments.length,c=1,p=o.f,f=s.f;a>c;)for(var d,g=l(arguments[c++]),y=p?i(g).concat(p(g)):i(g),m=y.length,v=0;m>v;)d=y[v++],r&&!f.call(g,d)||(n[d]=g[d]);return n}:c},function(e,t,n){n(152);var r=n(11);e.exports=r.Object.entries},function(e,t,n){var r=n(4),a=n(153).entries;r({target:"Object",stat:!0},{entries:function(e){return a(e)}})},function(e,t,n){var r=n(10),a=n(50),i=n(24),o=n(43).f,s=function(e){return function(t){for(var n,s=i(t),u=a(s),l=u.length,c=0,p=[];l>c;)n=u[c++],r&&!o.call(s,n)||p.push(e?[n,s[n]]:s[n]);return p}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){n(155);var r=n(11);e.exports=r.Object.setPrototypeOf},function(e,t,n){n(4)({target:"Object",stat:!0},{setPrototypeOf:n(51)})},function(e,t,n){n(4)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){n(4)({target:"Number",stat:!0},{isInteger:n(158)})},function(e,t,n){var r=n(8),a=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&a(e)===e}},function(e,t,n){n(160);var r=n(11);e.exports=r.Number.parseInt},function(e,t,n){var r=n(4),a=n(161);r({target:"Number",stat:!0,forced:Number.parseInt!=a},{parseInt:a})},function(e,t,n){var r=n(2),a=n(89).trim,i=n(54),o=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==o(i+"08")||22!==o(i+"0x16");e.exports=u?function(e,t){var n=a(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},function(e,t,n){n(163);var r=n(11);e.exports=r.Number.parseFloat},function(e,t,n){var r=n(4),a=n(164);r({target:"Number",stat:!0,forced:Number.parseFloat!=a},{parseFloat:a})},function(e,t,n){var r=n(2),a=n(89).trim,i=n(54),o=r.parseFloat,s=1/o(i+"-0")!=-1/0;e.exports=s?function(e){var t=a(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(5),i=n(207),o=n(208),s=n(209),u=n(213),l=n(214),c=n(5),p=n(215),f=n(216),d=n(91),g=n(217),y=n(1),m=n(218),v=function(){function e(){}return e.prototype.initializeAsync=function(e,t){var n=this;return this._initializationPromise||(this._initializationPromise=new Promise((function(r,i){var o={isAlpha:d.ApiVersion.Instance.isAlpha};if(m.LegacyInternalApiDispatcherHolder.hasDesktopApiDispatcherPromise(o))m.LegacyInternalApiDispatcherHolder.getDesktopDispatcherPromise(o).then((function(r){return n.onDispatcherReceived(r,e,t)})).then((function(e){r(e)})).catch((function(e){i(e)}));else{var s=n.onDispatcherReceived.bind(n);a.doCrossFrameBootstrap(window,y.INTERNAL_CONTRACT_VERSION,o).then((function(n){return s(n,e,t)})).then((function(e){r(e)})).catch((function(e){i(e)}))}}))),this._initializationPromise},e.prototype.onDispatcherReceived=function(e,t,n){var i=this,u=e(y.INTERNAL_CONTRACT_VERSION);s.registerInitializationExtensionsServices(u);var l=a.ApiServiceRegistry.instance.getService("InitializationService"),d=n?Object.keys(n):[];return l.initializeDashboardExtensionsAsync(t,d).then((function(e){if(!e.extensionInstance.locator.dashboardPath)throw new c.TableauError(r.ErrorCodes.InternalError,"Unexpected error during initialization.");var t=e.extensionEnvironment.platformVersion?e.extensionEnvironment.platformVersion:{major:1,minor:9,fix:0};return g.VersionedExternalApiDispatcher.needsVersionConverter(t)&&(u=new g.VersionedExternalApiDispatcher(u,t)),a.registerAllSharedServices(u,t),s.registerAllExtensionsServices(u),i.dashboardContent=i.initializeDashboardContent(e.extensionDashboardInfo,e.extensionInstance.locator.dashboardPath),i.environment=new o.Environment(e.extensionEnvironment),i.settings=i.initializeSettings(e.extensionSettingsInfo),i.ui=new p.UI(new f.UIImpl),i.initializeContextMenuCallbacks(n),e.extensionDialogPayload}))},e.prototype.initializeDashboardContent=function(e,t){var n=new a.DashboardImpl(e,t),r=new a.Dashboard(n);return new i.DashboardContent(r)},e.prototype.initializeSettings=function(e){var t=new l.SettingsImpl(e);return new u.Settings(t)},e.prototype.initializeContextMenuCallbacks=function(e){a.ApiServiceRegistry.instance.getService("notification-service").registerHandler(y.NotificationId.ContextMenuClick,(function(e){return!0}),(function(t){if(e){if(!e[t.id])throw new c.TableauError(r.ErrorCodes.InternalError,"Received unexpected context menu Id from event: "+t.id);e[t.id]()}}))},e}();t.ExtensionsImpl=v},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;return n._dashboardImpl=t,t.initializeWithPublicInterfaces(n),n}return a(t,e),Object.defineProperty(t.prototype,"worksheets",{get:function(){return this._dashboardImpl.worksheets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objects",{get:function(){return this._dashboardImpl.objects},enumerable:!0,configurable:!0}),t.prototype.setZoneVisibilityAsync=function(e){return this._dashboardImpl.setZoneVisibilityAsync(e)},t}(n(90).Sheet);t.Dashboard=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(6),i=function(){function e(e,t){var n=e.split("-");this.build=this.getBuildNumber(n[1]);var i=(e=n[0]).split(".").map((function(e){return parseInt(e,10)}));if(3!==i.length)throw new a.TableauError(r.ErrorCodes.InternalError,"Invalid version number: "+e);this.major=i[0],this.minor=i[1],this.fix=i[2],this.isAlpha=t}return e.prototype.getBuildNumber=function(e){if(!e)return-1;var t=e.split(".");return t[1]?parseInt(t[1],10):-1},Object.defineProperty(e.prototype,"formattedValue",{get:function(){return this.major+"."+this.minor+"."+this.fix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullFormattedValue",{get:function(){return this.major+"."+this.minor+"."+this.fix+"-pre."+this.build},enumerable:!0,configurable:!0}),e}();t.VersionNumber=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(92),a=function(){function e(){}return e.isSpecial=function(e){return e.length>2&&"%"===e[0]&&"%"===e[e.length-1]},e.parseBoolean=function(e){var t=e.toLowerCase();return"true"!==t&&"false"!==t?this.specialValueIndicator:"true"===t},e.parseNumber=function(e){var t=Number(e);return isNaN(t)?this.specialValueIndicator:t},e.parseDate=function(e){var t=new Date(e);return Number.isNaN(t.getTime())?null:t},e.parseDateTime=function(e){var t=e.replace(" ","T").concat("Z"),n=new Date(t);return Number.isNaN(n.getTime())?null:n},e.convertValueAsStringToValue=function(e,t){if(null!=e){if(this.isSpecial(e))return e;switch(t){case r.DataType.Bool:return this.parseBoolean(e);case r.DataType.Int:case r.DataType.Float:return this.parseNumber(e);case r.DataType.Date:return null===this.parseDate(e)?this.specialValueIndicator:e;case r.DataType.DateTime:return null===this.parseDateTime(e)?this.specialValueIndicator:e;case r.DataType.Spatial:case r.DataType.String:default:return e}}},e.convertValueToNativeValue=function(e,t){if(null==e)return null;switch(t){case r.DataType.Bool:return"string"==typeof e?null:e;case r.DataType.Int:case r.DataType.Float:return"string"==typeof e?null:e;case r.DataType.Date:return this.parseDate(e);case r.DataType.DateTime:return this.parseDateTime(e);case r.DataType.String:return this.isSpecial(e)?null:e;case r.DataType.Spatial:default:return e}},e.convertStringValueToNativeValue=function(e,t){return this.convertValueToNativeValue(this.convertValueAsStringToValue(e,t),t)},e.specialValueIndicator="%null%",e}();t.DataTypeConverter=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ExtensionLocator="extension-locator",e.ExtensionBootstrapInfo="extension-bootstrap-info",e.ExtensionSettingsInfo="extension-settings-info",e.VisualId="visual-id",e.SheetPath="sheet-path",e.IgnoreAliases="ignore-aliases",e.IgnoreSelection="ignore-selection",e.IncludeAllColumns="include-all-columns",e.MaxRows="max-rows",e.UnderlyingDataTable="underlying-data-table",e.UnderlyingSummaryDataTable="underlying-summary-data-table",e.DataSourceDataTable="data-source-data-table",e.SettingsValues="settings-values",e.SelectedData="selected-data",e.HighlightedData="highlighted-data",e.FieldName="field-name",e.FilterValues="filter-values",e.FilterUpdateType="filter-update-type",e.IsExcludeMode="is-exclude",e.FilterRangeMin="filter-range-min",e.FilterRangeMax="filter-range-max",e.FilterRangeNullOption="filter-range-null-option",e.WorksheetFilters="worksheet-filters",e.FieldId="field-id",e.DomainType="domain-type",e.CategoricalDomain="categorical-domain",e.QuantitativeDomain="quantitative-dmain",e.Field="field",e.WorksheetName="worksheet-name",e.DashboardName="dashboard",e.ParameterInfo="parameter-info",e.ParameterInfos="parameter-infos",e.ParameterCaption="paremeter-caption",e.ParameterFieldName="parameter-field-name",e.ParameterValue="parameter-value",e.Selection="selection",e.SelectionUpdateType="selectionUpdateType",e.HierValSelectionModels="hierarchicalValueSelectionModels",e.QuantRangeSelectionModels="quantativeRangeSelectionModels",e.DimValSelectionModels="dimensionValueSelectionModels",e.ActiveTablesInfo="active-tables-info",e.DataSource="data-source",e.DataSourceId="data-source-id",e.DeltaTimeMs="delta-time-ms",e.ShouldRefreshDS="should-refresh-ds",e.DataSchema="data-schema",e.DataSourceName="data-source-name",e.ColumnsToInclude="columns-to-include",e.JoinDescription="join-description",e.ConnectionDescriptionSummaries="connection-description-summaries",e.ExtensionDialogUrl="extension-dialog-url",e.ExtensionDialogPayload="extension-dialog-payload",e.IsExtensionDialog="is-extension-dialog",e.ExtensionDialogH="extension-dialog-height",e.ExtensionDialogW="extension-dialog-width",e.ExtensionDialogResult="extension-dialog-result",e.ExtensionContextMenuIds="extension-context-menu-ids",e.TestConversionParameter="test-conversion-parameter",e.Dashboard="dashboard",e.ZoneIdsVisibilityMap="zone-ids-visibility-map",e.LogicalTableInfoList="logical-table-info-list",e.LogicalTableId="logical-table-id"}(t.ParameterId||(t.ParameterId={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ApplyCategoricalFilter="categorical-filter",e.ApplyRangeFilter="range-filter",e.ClearFilter="clear-filter",e.InitializeExtension="initialize-extension",e.GetDataSummaryData="get-summary-data",e.GetUnderlyingData="get-underlying-data",e.GetDataSourceData="get-datasource-data",e.SaveExtensionSettings="save-extension-settings",e.GetSelectedMarks="get-selected-marks",e.GetHighlightedMarks="get-highlighted-marks",e.GetParametersForSheet="get-parameters-for-sheet",e.FindParameter="find-parameter",e.ChangeParameterValue="change-parameter-value",e.ClearSelectedMarks="clear-selected-marks",e.SelectByValue="select-by-value",e.GetDataSources="get-data-sources",e.RefreshDataSource="refresh-data-source",e.GetFilters="get-filters",e.GetFieldAndDataSource="get-field-and-datasource",e.GetCategoricalDomain="get-categorical-domain",e.GetRangeDomain="get-range-domain",e.GetJoinDescription="get-join-description",e.GetConnectionDescriptionSummaries="get-connection-description-summaries",e.DisplayDialog="display-dialog",e.CloseDialog="close-dialog",e.TestConversionVerb="test-conversion-verb",e.GetField="get-field",e.GetDataSource="get-datasource",e.GetActiveTables="get-active-tables",e.SetZoneVisibility="set-zone-visibility",e.BlockExtension="block-extension",e.GetLogicalTables="get-logical-tables",e.GetLogicalTableData="get-logical-table-data",e.GetUnderlyingTableData="get-underlying-table-data",e.GetUnderlyingTables="get-underlying-tables"}(t.VerbId||(t.VerbId={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,a){if(this._externalMajorVersion=e,this._platformMajorVersion=t,this._upgradeExecuteTranslations=n,this._downgradeExecuteTranslations=r,this._downgradeNotificationTranslations=a,this._externalMajorVersion>this._platformMajorVersion)throw new Error("Cannot convert between external version "+this._externalMajorVersion+" and "+this._platformMajorVersion)}return e.fromData=function(e,t,n,r,a){return new this(e.major,t.major,n,r,a)},e.prototype.upgradeExecuteCall=function(e,t){for(var n={verb:e,parameters:t},r=0,a=this._upgradeExecuteTranslations;r<a.length;r++)n=(0,a[r])(n.verb,n.parameters);return n},e.prototype.downgradeExecuteReturn=function(e){for(var t=e,n=0,r=this._downgradeExecuteTranslations;n<r.length;n++)t=(0,r[n])(t);return t},e.prototype.downgradeNotification=function(e){for(var t=e,n=0,r=this._downgradeNotificationTranslations;n<r.length;n++)t=(0,r[n])(t);return t},e}();t.StackingVersionConverter=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.upgradeExecuteCall=function(e,t){return{verb:e,parameters:t}},e.prototype.downgradeExecuteReturn=function(e){return e},e.prototype.downgradeNotification=function(e){return e},e}();t.IdentityVersionConverter=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(93);t.DowngradeV2WorksheetNames=function(e){var t=e.result;return void 0!==t.extensionDashboardInfo&&t.extensionDashboardInfo.zones.forEach((function(e){e.sheetInfo&&(e.name=e.sheetInfo.name)})),e},t.DowngradeFlipboardZoneID=function(e){if(e.notificationId===r.NotificationId.SelectedMarksChanged){var t=e.data;void 0===t.flipboardZoneID&&(t.flipboardZoneID=0)}return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(94),a=n(95),i=n(175),o=n(176);function s(e,t,n,o,s){var l=e.major,c=t.major,p=t.minor;if(l>c)throw new Error("External version must be less than or equal to platform version.\n    externalMajorVersion="+l+" platformMajorVersion="+c);if(l<c||r.VersionEqualTo(e,t))return new a.ExternalIdentityVersionConverter;var f=u(c,p,n),d=u(c,p,o),g=u(c,p,s);return f.reverse(),new i.ExternalStackingVersionConverter(e,t,f,d,g)}function u(e,t,n){var a=[];if(e in n)for(var i=t,o=r.GetMaximumMinorIndex(Object.keys(n[e])),s=i;s<=o;s++)s in n[e]&&a.push.apply(a,n[e][s]);return a}t.ExecuteMinorDowngradeCallExternal={1:{9:[],13:[o.DowngradeUnderlyingTableDataAsync,o.DowngradeLogicalTableDataAsync]}},t.ExecuteMinorUpgradeReturnExternal={1:{9:[o.UpgradeDataTableTypes]}},t.ExecuteMinorUpgradeNotification={1:{9:[]}},t.CreateExternalCompatibleVersionConverter=function(e,n){return s(e,n,t.ExecuteMinorDowngradeCallExternal,t.ExecuteMinorUpgradeReturnExternal,t.ExecuteMinorUpgradeNotification)},t.CreateExternalCompatibleVersionConverterWithTranslators=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,a){if(this._externalVersion=e,this._platformVersion=t,this._downgradeExecuteCallTranslations=n,this._upgradeExecuteReturnTranslations=r,this._upgradeNotificationTranslations=a,this._externalVersion.major>this._platformVersion.major)throw new Error("Cannot convert between external version "+this._externalVersion.major+"\n      and "+this._platformVersion.major)}return e.prototype.downgradeExecuteCall=function(e,t){for(var n={verb:e,parameters:t},r=0,a=this._downgradeExecuteCallTranslations;r<a.length;r++)n=(0,a[r])(n.verb,n.parameters);return n},e.prototype.upgradeExecuteReturn=function(e){for(var t=e,n=0,r=this._upgradeExecuteReturnTranslations;n<r.length;n++)t=(0,r[n])(t);return t},e.prototype.upgradeNotification=function(e){for(var t=e,n=0,r=this._upgradeNotificationTranslations;n<r.length;n++)t=(0,r[n])(t);return t},e}();t.ExternalStackingVersionConverter=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function a(e){void 0!==e&&void 0!==e.dataTable&&Array.isArray(e.dataTable)&&e.dataTable.forEach((function(t){t.forEach((function(t,n){var a=t.value;null!==a&&(t.value=r.DataTypeConverter.convertValueAsStringToValue(a,e.headers[n].dataType))}))}))}function i(e,t){if(t[r.ParameterId.LogicalTableId]!==r.ApiShowDataTableSentinel.SingleTableId)throw new Error("Invalid logical table id passed to "+e+".")}t.UpgradeDataTableTypes=function(e){if(!e)return e;var t=e.result;if(void 0!==t.data&&void 0!==t.isSummary)return a(t.data),e;var n=e.result;return void 0!==n.data&&Array.isArray(n.data)?(n.data.forEach((function(e){a(e)})),e):e},t.DowngradeUnderlyingTableDataAsync=function(e,t){return e===r.VerbId.GetUnderlyingTableData&&(i(e,t),e=r.VerbId.GetUnderlyingData),{verb:e,parameters:t}},t.DowngradeLogicalTableDataAsync=function(e,t){return e===r.VerbId.GetLogicalTableData&&(i(e,t),e=r.VerbId.GetDataSourceData),{verb:e,parameters:t}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(96),a=n(178),i=n(56),o=n(179),s=n(1),u=function(){function e(e,t,n){this.thisWindow=e,this.otherWindow=t,this.otherWindowOrigin=n}return e.prototype.startListening=function(){var e=this;if(!this.unregisterFunction){var t=this.onMessageReceived.bind(this);this.thisWindow.addEventListener("message",t,!0),this.unregisterFunction=function(){return e.thisWindow.removeEventListener("message",t,!0)}}},e.prototype.stopListening=function(){this.unregisterFunction&&(this.unregisterFunction(),this.unregisterFunction=void 0)},e.prototype.setInitializeMessageHandler=function(e){this.initializeMessageHandler=e},e.prototype.setCommandResponseMessageHandler=function(e){this.commandResponseMessageHandler=e},e.prototype.setCommandMessageHandler=function(e){this.commandMessageHandler=e},e.prototype.setNotificationMessageHandler=function(e){this.notificationMessageHandler=e},e.prototype.setHandshakeMessageHandler=function(e){this.handshakeMessageHandler=e},e.prototype.prepareInitializationMessage=function(e,t,n){var a={msgGuid:r.raw(),msgType:i.MessageType.Initialize,crossFrameVersion:t,apiVersion:e,options:n};return this.prepareMessage(a)},e.prototype.prepareCommandMessage=function(e,t){var n={msgGuid:r.raw(),msgType:i.MessageType.Command,verbId:e,parameters:t};return this.prepareMessage(n)},e.prototype.prepareCommandResponseMessage=function(e,t,n){var a={msgGuid:r.raw(),msgType:i.MessageType.CommandResponse,commandGuid:e,data:t,error:n};return n&&(a.error=JSON.parse(JSON.stringify(n))),this.prepareMessage(a)},e.prototype.prepareNotificationMessage=function(e,t){var n={msgGuid:r.raw(),msgType:i.MessageType.Notification,notificationId:e,data:t};return this.prepareMessage(n)},e.prototype.prepareAckMessage=function(){var e={msgGuid:r.raw(),msgType:i.MessageType.Ack,platformVersion:s.INTERNAL_CONTRACT_VERSION};return this.prepareMessage(e)},e.prototype.prepareMessage=function(e){if(!this.otherWindow||!this.otherWindowOrigin)throw"Other window not initialized, cannot dispatch messages";return new a.CrossFramePreparedMessage(e,this.otherWindow,this.otherWindowOrigin)},e.prototype.onMessageReceived=function(e){if((!this.otherWindow||e.source===this.otherWindow)&&e.data){var t=e.data;if(o.isMessage(t))switch(t.msgType){case i.MessageType.Initialize:if(!o.isInitMessage(t)||!this.initializeMessageHandler)return;this.initializeMessageHandler(t,e.source);break;case i.MessageType.CommandResponse:if(!o.isCommandResponseMessage(t)||!this.commandResponseMessageHandler)return;this.commandResponseMessageHandler(t,e.source);break;case i.MessageType.Command:if(!o.isCommandMessage(t)||!this.commandMessageHandler)return;this.commandMessageHandler(t,e.source);break;case i.MessageType.Notification:if(!o.isNotificationMessage(t)||!this.notificationMessageHandler)return;this.notificationMessageHandler(t,e.source);break;case i.MessageType.Handshake:if(!o.isHandshakeMessage(t)||!this.handshakeMessageHandler)return;this.handshakeMessageHandler(t,e.source)}}},e.prototype.setOtherWindow=function(e){this.otherWindow=e},e.prototype.setOtherWindowOrigin=function(e){this.otherWindowOrigin=e},e}();t.CrossFrameMessenger=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this._message=e,this._target=t,this._origin=n}return Object.defineProperty(e.prototype,"messageGuid",{get:function(){return this._message.msgGuid},enumerable:!0,configurable:!0}),e.prototype.send=function(){return this._target.postMessage(this._message,this._origin),this},e}();t.CrossFramePreparedMessage=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(96),a=n(56);function i(e){if(!e)return!1;var t=e;return!!(t&&t.msgGuid&&t.msgType)&&!!r.isGuid(t.msgGuid)&&"string"==typeof t.msgType&&!([a.MessageType.Command,a.MessageType.CommandResponse,a.MessageType.Initialize,a.MessageType.Notification,a.MessageType.Handshake].indexOf(t.msgType)<0)}function o(e){if(!e)return!1;var t=e;return"object"==Object(d["a"])(t)&&"number"==typeof t.fix&&"number"==typeof t.minor&&"number"==typeof t.major}t.isMessage=i,t.isVersion=o,t.isInitMessage=function(e){if(!i(e))return!1;var t=e;return t.msgType===a.MessageType.Initialize&&!(!t.apiVersion||!o(t.apiVersion))&&!(!t.crossFrameVersion||!o(t.crossFrameVersion))},t.isCommandResponseMessage=function(e){if(!i(e))return!1;var t=e;return t.msgType===a.MessageType.CommandResponse&&!!r.isGuid(t.commandGuid)&&!(!t.data&&!t.error)},t.isCommandMessage=function(e){if(!i(e))return!1;var t=e;return t.msgType===a.MessageType.Command&&!(!t.parameters||"object"!=Object(d["a"])(t.parameters))&&!(!t.verbId||"string"!=typeof t.verbId)},t.isNotificationMessage=function(e){if(!i(e))return!1;var t=e;return t.msgType===a.MessageType.Notification&&!!t.data&&!(!t.notificationId||"string"!=typeof t.notificationId)},t.isHandshakeMessage=function(e){return!!i(e)&&e.msgType===a.MessageType.Handshake}},function(e){e.exports=JSON.parse('{"name":"@tableau/api-internal-contract-js","description":"The API contract between Tableau and our external client.","repository":"https://gitlab.tableausoftware.com/browser-clients/api-internal-contract-js.git","version":"1.28.0","main":"./lib/src/JsApiInternalContract.js","typings":"./lib/src/JsApiInternalContract.d.ts","license":"UNLICENSED","scripts":{"build-and-maybe-publish":"yarn run build && yarn run publish-if-new","build":"yarn install --frozen-lockfile && yarn run compile && yarn run coverage","compile-watch":"module-dev-scripts compile -w","compile":"module-dev-scripts compile","coverage":"module-dev-scripts test --coverage","publish-if-new":"node ./node_modules/@tableau/gitlab-tools/lib/publishIfNew.js publish -d .","test":"module-dev-scripts test --browsers browserstack_chrome,browserstack_firefox,browserstack_ie,browserstack_safari,browserstack_edge","test-dev":"module-dev-scripts test --dev"},"dependencies":{"guid":"0.0.12"},"devDependencies":{"@tableau-api-internal-contract-js_v0":"npm:@tableau/api-internal-contract-js@^0","@tableau/gitlab-tools":"2.3.1","@tableau/module-dev-scripts":"^23.0.0","@types/guid":"1.0.0","colors":"1.4.0","core-js":"^3.6.5"},"peerDependencies":{"core-js":"^2.5.7"},"optionalDependencies":{"fsevents":"^2"},"resolutions":{"fsevents":"^2"},"publishConfig":{"registry":"https://artifactory.prod.tableautools.com/artifactory/api/npm/tab-npm-local"}}')},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(14),s=n(182),u=n(1),l=n(12),c=n(21),p=n(183),f=n(98),d=n(184),g=n(185),y=n(186),m=n(187),v=function(e){function t(t,n){var r=e.call(this,new d.SheetInfoImpl(t.name,i.SheetType.Dashboard,new g.Size(t.size.h,t.size.w)))||this;return r._info=t,r._sheetPath=n,r}return a(t,e),Object.defineProperty(t.prototype,"worksheets",{get:function(){return this._worksheets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objects",{get:function(){return this._objects},enumerable:!0,configurable:!0}),t.prototype.initializeWithPublicInterfaces=function(e){l.ErrorHelpers.verifyInternalValue(e,"dashboard"),this._worksheets=new Array,this._objects=new Array;for(var t=0,n=this._info.zones;t<n.length;t++){var r=n[t],a=void 0,o=new g.Size(r.height,r.width);if(r.zoneType===u.DashboardObjectType.Worksheet){var f=r.sheetInfo?r.sheetInfo.name:r.name,v=new d.SheetInfoImpl(f,i.SheetType.Worksheet,o),h={worksheet:f,dashboard:this._info.name,storyboard:this._sheetPath.storyboard,flipboardZoneID:this._sheetPath.flipboardZoneID,storyPointID:this._sheetPath.storyPointID},_=new m.WorksheetImpl(v,h,e);a=new y.Worksheet(_),this._worksheets.push(a)}var b=new p.Point(r.x,r.y),I=new s.DashboardObject(e,c.InternalToExternalEnumMappings.dashboardObjectType.convert(r.zoneType),b,o,a,r.name,void 0!==r.isFloating&&r.isFloating,void 0===r.isVisible||r.isVisible,r.zoneId);this._objects.push(I)}},t.prototype.setZoneVisibilityAsync=function(e){return o.ApiServiceRegistry.instance.getService("zone-service").setVisibilityAsync(this.name,this.objects,e)},t}(f.SheetImpl);t.DashboardImpl=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,a,i,o,s,u){this._dashboard=e,this._type=t,this._position=n,this._size=r,this._worksheet=a,this._name=i,this._isFloating=o,this._isVisible=s,this._id=u}return Object.defineProperty(e.prototype,"dashboard",{get:function(){return this._dashboard},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worksheet",{get:function(){return this._worksheet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFloating",{get:function(){return this._isFloating},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e}();t.DashboardObject=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e}();t.Point=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=function(){function e(e,t,n){this._name=e,this._sheetType=t,this._sheetSize=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sheetSize",{get:function(){return this._sheetSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sheetType",{get:function(){return this._sheetType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sheetPath",{get:function(){return{sheetName:this.name,isDashboard:this.sheetType===r.SheetType.Dashboard}},enumerable:!0,configurable:!0}),e}();t.SheetInfoImpl=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._height=e,this._width=t}return Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),e}();t.Size=r},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;return n._worksheetImpl=t,n._worksheetImpl.initializeEvents(n).forEach((function(e){return n.addNewEventType(e)})),n}return a(t,e),Object.defineProperty(t.prototype,"parentDashboard",{get:function(){return this._worksheetImpl.parentDashboard},enumerable:!0,configurable:!0}),t.prototype.applyFilterAsync=function(e,t,n,r){return this._worksheetImpl.applyFilterAsync(e,t,n,r)},t.prototype.applyRangeFilterAsync=function(e,t){return this._worksheetImpl.applyRangeFilterAsync(e,t)},t.prototype.clearFilterAsync=function(e){return this._worksheetImpl.clearFilterAsync(e)},t.prototype.getDataSourcesAsync=function(){return this._worksheetImpl.getDataSourcesAsync()},t.prototype.getFiltersAsync=function(){return this._worksheetImpl.getFiltersAsync()},t.prototype.getSelectedMarksAsync=function(){return this._worksheetImpl.getSelectedMarksAsync()},t.prototype.getHighlightedMarksAsync=function(){return this._worksheetImpl.getHighlightedMarksAsync()},t.prototype.getSummaryDataAsync=function(e){return this._worksheetImpl.getSummaryDataAsync(e)},t.prototype.getUnderlyingDataAsync=function(e){return console.warn("Worksheet.getUnderlyingDataAsync is deprecated. Please use Worksheet.getUnderlyingTablesAsync and Worksheet.getUnderlyingTableDataAsync"),this._worksheetImpl.getUnderlyingDataAsync(e)},t.prototype.getUnderlyingTablesAsync=function(){return this._worksheetImpl.getUnderlyingTablesAsync()},t.prototype.getUnderlyingTableDataAsync=function(e,t){return this._worksheetImpl.getUnderlyingTableDataAsync(e,t)},t.prototype.clearSelectedMarksAsync=function(){return this._worksheetImpl.clearSelectedMarksAsync()},t.prototype.selectMarksByIDAsync=function(e,t){return this._worksheetImpl.selectMarksByIdAsync(e,t)},t.prototype.selectMarksByValueAsync=function(e,t){return this._worksheetImpl.selectMarksByValueAsync(e,t)},t.prototype.selectMarksByIdAsync=function(e,t){return this._worksheetImpl.selectMarksByIdAsync(e,t)},t}(n(90).Sheet);t.Worksheet=i},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(1),s=n(99),u=n(100),l=n(98),c=n(58),p=n(190),f=n(191),d=n(106),g=n(14),y=n(12),m=n(103),v=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a._visualId=n,a._parentDashboard=r,a}return a(t,e),Object.defineProperty(t.prototype,"parentDashboard",{get:function(){return this._parentDashboard},enumerable:!0,configurable:!0}),t.prototype.initializeEvents=function(e){var t,n=this,r=new Array;try{t=g.ApiServiceRegistry.instance.getService("notification-service")}catch(e){return r}var a=new c.SingleEventManagerImpl(i.TableauEventType.MarkSelectionChanged);t.registerHandler(o.NotificationId.SelectedMarksChanged,(function(e){var t,r;return t=e,r=n.visualId,t&&r&&t.worksheet===r.worksheet&&t.dashboard===r.dashboard&&t.storyboard===r.storyboard&&t.storyPointID===r.storyPointID}),(function(t){a.triggerEvent((function(){return new f.MarksSelectedEvent(e)}))}));var s=new c.SingleEventManagerImpl(i.TableauEventType.FilterChanged);return t.registerHandler(o.NotificationId.FilterChanged,(function(e){var t=e;return n.visualId.worksheet===t.visualId.worksheet}),(function(t){s.triggerEvent((function(){return new p.FilterChangedEvent(e,t.fieldName)}))})),r.push(a),r.push(s),r},Object.defineProperty(t.prototype,"visualId",{get:function(){return this._visualId},enumerable:!0,configurable:!0}),t.prototype.applyFilterAsync=function(e,t,n,r){return y.ErrorHelpers.verifyEnumValue(n,i.FilterUpdateType,"FilterUpdateType"),g.ApiServiceRegistry.instance.getService("filter-service").applyFilterAsync(this.visualId,e,t,n,r)},t.prototype.applyRangeFilterAsync=function(e,t){return y.ErrorHelpers.verifyParameter(e,"fieldName"),y.ErrorHelpers.verifyParameter(t,"filterOptions"),t.nullOption?y.ErrorHelpers.verifyEnumValue(t.nullOption,i.FilterNullOption,"FilterNullOption"):y.ErrorHelpers.verifyRangeParamType(t.min,t.max),g.ApiServiceRegistry.instance.getService("filter-service").applyRangeFilterAsync(this.visualId,e,t)},t.prototype.clearFilterAsync=function(e){return y.ErrorHelpers.verifyParameter(e,"fieldName"),g.ApiServiceRegistry.instance.getService("filter-service").clearFilterAsync(this.visualId,e)},t.prototype.getDataSourcesAsync=function(){var e=this;return g.ApiServiceRegistry.instance.getService("data-source-service").getDataSourcesAsync(this.visualId).then((function(t){var n=t,r=n.worksheetDataSchemaMap[e.name],a=[],i=r.primaryDataSource;a.push(e.createDataSourceFromInfo(n.dataSources[i]));for(var o=0,s=r.referencedDataSourceList;o<s.length;o++){var u=s[o];u!==i&&a.push(e.createDataSourceFromInfo(n.dataSources[u]))}return a}))},t.prototype.getFiltersAsync=function(){return g.ApiServiceRegistry.instance.getService("filter-service").getFiltersAsync(this.visualId)},t.prototype.getSelectedMarksAsync=function(){return g.ApiServiceRegistry.instance.getService("get-data-service").getSelectedMarksAsync(this.visualId)},t.prototype.getHighlightedMarksAsync=function(){return g.ApiServiceRegistry.instance.getService("get-data-service").getHighlightedMarksAsync(this.visualId)},t.prototype.getSummaryDataAsync=function(e){return e=e||{},g.ApiServiceRegistry.instance.getService("get-data-service").getUnderlyingDataAsync(this.visualId,d.GetDataType.Summary,!!e.ignoreAliases,!!e.ignoreSelection,!0,0)},t.prototype.getUnderlyingDataAsync=function(e){return e=e||{},g.ApiServiceRegistry.instance.getService("get-data-service").getUnderlyingDataAsync(this.visualId,d.GetDataType.Underlying,!!e.ignoreAliases,!!e.ignoreSelection,!!e.includeAllColumns,e.maxRows||0)},t.prototype.getUnderlyingTablesAsync=function(){return g.ApiServiceRegistry.instance.getService("data-source-service").getUnderlyingTablesAsync(this.visualId).then((function(e){return e.map((function(e){return new m.LogicalTable(e)}))}))},t.prototype.getUnderlyingTableDataAsync=function(e,t){return t=t||{},g.ApiServiceRegistry.instance.getService("get-data-service").getUnderlyingTableDataAsync(this.visualId,e,!!t.ignoreAliases,!!t.ignoreSelection,!!t.includeAllColumns,t.maxRows||0)},t.prototype.clearSelectedMarksAsync=function(){return g.ApiServiceRegistry.instance.getService("selection-service").clearSelectedMarksAsync(this.visualId)},t.prototype.selectMarksByValueAsync=function(e,t){return y.ErrorHelpers.verifyParameter(e,"fieldName"),y.ErrorHelpers.verifyEnumValue(t,i.SelectionUpdateType,"SelectionUpdateType"),g.ApiServiceRegistry.instance.getService("selection-service").selectMarksByValueAsync(this.visualId,e,t)},t.prototype.selectMarksByIdAsync=function(e,t){return y.ErrorHelpers.verifyParameter(e,"fieldName"),y.ErrorHelpers.verifyEnumValue(t,i.SelectionUpdateType,"SelectionUpdateType"),g.ApiServiceRegistry.instance.getService("selection-service").selectMarksByIdAsync(this.visualId,e,t)},t.prototype.createDataSourceFromInfo=function(e){var t=new u.DataSourceImpl(e),n=new s.DataSource(t);return t.initializeWithPublicInterfaces(n),n},t}(l.SheetImpl);t.WorksheetImpl=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._connectionInfo=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this._connectionInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._connectionInfo.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverURI",{get:function(){return this._connectionInfo.serverURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._connectionInfo.type},enumerable:!0,configurable:!0}),e}();t.ConnectionSummary=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._tableInfo=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this._tableInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._tableInfo.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connectionId",{get:function(){return this._tableInfo.connectionId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customSQL",{get:function(){return this._tableInfo.customSQL},enumerable:!0,configurable:!0}),e}();t.TableSummary=r},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(6),s=function(e){function t(t,n){var r=e.call(this,i.TableauEventType.FilterChanged,t)||this;return r._fieldName=n,r}return a(t,e),Object.defineProperty(t.prototype,"fieldName",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),t.prototype.getFilterAsync=function(){var e=this;return this._worksheet.getFiltersAsync().then((function(t){var n=t.find((function(t){return t.fieldName===e._fieldName}));if(!n)throw new o.TableauError(i.ErrorCodes.MissingFilter,"cannot find filter: "+e._fieldName);return n}))},t}(n(104).TableauWorksheetEvent);t.FilterChangedEvent=s},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){function t(t){return e.call(this,i.TableauEventType.MarkSelectionChanged,t)||this}return a(t,e),t.prototype.getMarksAsync=function(){return this.worksheet.getSelectedMarksAsync()},t}(n(104).TableauWorksheetEvent);t.MarksSelectedEvent=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(193);t.doCrossFrameBootstrap=function(e,t,n){return new Promise((function(i,o){var s;(s=function(e){try{return e.self!==e.parent}catch(e){return!0}}(e)?e.parent:e.opener)||o("This extension is not running inside an iframe, desktop, or popup window. Initialization failed.");var u=new r.CrossFrameMessenger(e,s,"*"),l=u.prepareInitializationMessage(t,r.MESSAGING_VERSION,n);u.setCommandResponseMessageHandler((function(e){e.commandGuid===l.messageGuid&&i((function(){return new a.CrossFrameDispatcher(u)}))})),u.startListening(),l.send()}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){if(this._messenger=e,this._pendingPromises={},this._notificationHandlers=[],!this._messenger)throw"Missing messenger object";this._messenger.setCommandResponseMessageHandler(this.onCommandResponse.bind(this)),this._messenger.setNotificationMessageHandler(this.onNotification.bind(this))}return e.prototype.execute=function(e,t){var n=this,r=this._messenger.prepareCommandMessage(e,t),a=new Promise((function(e,t){n._pendingPromises[r.messageGuid]={resolve:e,reject:t}}));return r.send(),a},e.prototype.registerNotificationHandler=function(e){this._notificationHandlers.push(e)},e.prototype.unregisterNotificationHandler=function(e){this._notificationHandlers=this._notificationHandlers.filter((function(t){return t!==e}))},e.prototype.onCommandResponse=function(e){if(!(Object.keys(this._pendingPromises).indexOf(e.commandGuid)<0)){var t=this._pendingPromises[e.commandGuid];e.error&&t.reject(e.error),e.data&&t.resolve({result:e.data}),delete this._pendingPromises[e.commandGuid]}},e.prototype.onNotification=function(e){for(var t=0,n=this._notificationHandlers;t<n.length;t++){var r=n[t];try{r({notificationId:e.notificationId,data:e.data})}catch(e){}}},e}();t.CrossFrameDispatcher=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),a=n(195),i=n(196),o=n(198),s=n(199),u=n(200),l=n(204),c=n(206);t.registerAllSharedServices=function(e,t){r.ApiServiceRegistry.instance.registerService(new a.DataSourceServiceImpl(e,t)),r.ApiServiceRegistry.instance.registerService(new o.GetDataServiceImpl(e)),r.ApiServiceRegistry.instance.registerService(new i.FilterServiceImpl(e)),r.ApiServiceRegistry.instance.registerService(new s.NotificationServiceImpl(e)),r.ApiServiceRegistry.instance.registerService(new u.ParametersServiceImpl(e)),r.ApiServiceRegistry.instance.registerService(new l.SelectionServiceImpl(e)),r.ApiServiceRegistry.instance.registerService(new c.ZoneServiceImpl(e))}},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(1),s=n(18),u=n(6),l=n(1),c=n(102),p=n(101),f=n(99),d=n(100);t.SENTINEL_LOGICAL_TABLE_INFO={id:l.ApiShowDataTableSentinel.SingleTableId,caption:l.ApiShowDataTableSentinel.SingleTableCaption};var g=function(e){function n(t,n){var r=e.call(this,t)||this;return r._platformVersion=n,r}return a(n,e),Object.defineProperty(n.prototype,"serviceName",{get:function(){return"data-source-service"},enumerable:!0,configurable:!0}),n.prototype.refreshAsync=function(e){var t,n=((t={})[o.ParameterId.DataSourceId]=e,t[o.ParameterId.DeltaTimeMs]=0,t[o.ParameterId.ShouldRefreshDS]=!0,t);return this.execute(o.VerbId.RefreshDataSource,n).then((function(e){}))},n.prototype.getActiveTablesAsync=function(e){var t,n=((t={})[o.ParameterId.DataSourceId]=e,t);return this.execute(o.VerbId.GetActiveTables,n).then((function(t){var n=t.result;if(0===n.tables.length)throw new u.TableauError(i.ErrorCodes.UnsupportedMethodForDataSourceType,"getActiveTables is not supported for: "+e);return n.tables}))},n.prototype.getDataSourcesAsync=function(e){var t,n=((t={})[o.ParameterId.VisualId]=e,t);return this.execute(o.VerbId.GetDataSources,n).then((function(e){return e.result}))},n.prototype.getConnectionSummariesAsync=function(e){var t,n=((t={})[o.ParameterId.DataSourceId]=e,t);return this.execute(o.VerbId.GetConnectionDescriptionSummaries,n).then((function(e){return e.result}))},n.prototype.getFieldAsync=function(e){var t,n=this,r=this.parseFieldId(e),a=r[1],s=r[2],l=o.VerbId.GetDataSource,c=((t={})[o.ParameterId.DataSourceId]=a,t);return this.execute(l,c).then((function(t){var r=t.result,a=r.fields.find((function(e){return e.name===s}));if(void 0===a)throw new u.TableauError(i.ErrorCodes.InternalError,"Unable to find field with id '"+e+"'");return n.convertField(a,n.convertDataSource(r))}))},n.prototype.getLogicalTablesAsync=function(e){var n;if(!this.isObjectModelSupportedByPlatform())return new Promise((function(e){return e([t.SENTINEL_LOGICAL_TABLE_INFO])}));var r=((n={})[o.ParameterId.DataSourceId]=e,n);return this.execute(o.VerbId.GetLogicalTables,r).then((function(e){return e.result}))},n.prototype.getUnderlyingTablesAsync=function(e){var n;if(!this.isObjectModelSupportedByPlatform())return new Promise((function(e){return e([t.SENTINEL_LOGICAL_TABLE_INFO])}));var r=((n={})[o.ParameterId.VisualId]=e,n);return this.execute(o.VerbId.GetUnderlyingTables,r).then((function(e){return e.result}))},n.prototype.convertField=function(e,t){return new c.Field(new p.FieldImpl(e,t))},n.prototype.convertDataSource=function(e){return new f.DataSource(new d.DataSourceImpl(e))},n.prototype.parseFieldId=function(e){return/^\[(.+)\]\.\[(.+)\]$/.exec(e)},n.prototype.isObjectModelSupportedByPlatform=function(){return l.VersionLessThan({major:1,minor:13,fix:0},this._platformVersion)},n}(s.ServiceImplBase);t.DataSourceServiceImpl=g},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(5),s=n(1),u=n(107),l=n(21),c=n(197),p=n(18),f=n(28),d=n(59),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"filter-service"},enumerable:!0,configurable:!0}),t.prototype.applyFilterAsync=function(e,t,n,r,a){var l=s.VerbId.ApplyCategoricalFilter,c={};if(c[s.ParameterId.VisualId]=e,c[s.ParameterId.FieldName]=t,!Array.isArray(n))throw new o.TableauError(i.ErrorCodes.InvalidParameter,"values parameter for applyFilterAsync must be an array");return c[s.ParameterId.FilterValues]=n,c[s.ParameterId.FilterUpdateType]=u.ExternalToInternalEnumMappings.filterUpdateType.convert(r),c[s.ParameterId.IsExcludeMode]=void 0!==a&&void 0!==a.isExcludeMode&&a.isExcludeMode,this.execute(l,c).then((function(e){return t}))},t.prototype.applyRangeFilterAsync=function(e,t,n){var r=s.VerbId.ApplyRangeFilter,a={};if(void 0!==n.min&&null!==n.min){var i=void 0;i=n.min instanceof Date?f.Param.serializeDateForPlatform(n.min):n.min,a[s.ParameterId.FilterRangeMin]=i}if(void 0!==n.max&&null!==n.max){var o=void 0;o=n.max instanceof Date?f.Param.serializeDateForPlatform(n.max):n.max,a[s.ParameterId.FilterRangeMax]=o}return n.nullOption&&(a[s.ParameterId.FilterRangeNullOption]=u.ExternalToInternalEnumMappings.nullOptions.convert(n.nullOption)),a[s.ParameterId.FieldName]=t,a[s.ParameterId.VisualId]=e,this.execute(r,a).then((function(e){return t}))},t.prototype.clearFilterAsync=function(e,t){var n=s.VerbId.ClearFilter,r={};return r[s.ParameterId.VisualId]=e,r[s.ParameterId.FieldName]=t,this.execute(n,r).then((function(e){return t}))},t.prototype.getFiltersAsync=function(e){var t=this,n=s.VerbId.GetFilters,r={};return r[s.ParameterId.VisualId]=e,this.execute(n,r).then((function(e){var n=e.result;return t.convertDomainFilters(n)}))},t.prototype.getCategoricalDomainAsync=function(e,t,n){var r=this,a=s.VerbId.GetCategoricalDomain,i={};return i[s.ParameterId.VisualId]={worksheet:e},i[s.ParameterId.FieldId]=t,i[s.ParameterId.DomainType]=u.ExternalToInternalEnumMappings.filterDomainType.convert(n),this.execute(a,i).then((function(e){var t=e.result;return r.convertCategoricalDomain(t,n)}))},t.prototype.getRangeDomainAsync=function(e,t,n){var r=this,a=s.VerbId.GetRangeDomain,i={};return i[s.ParameterId.VisualId]={worksheet:e},i[s.ParameterId.FieldId]=t,i[s.ParameterId.DomainType]=u.ExternalToInternalEnumMappings.filterDomainType.convert(n),this.execute(a,i).then((function(e){var t=e.result;return r.convertRangeDomain(t,n)}))},t.prototype.convertDomainFilters=function(e){var t=this,n=[];return e.forEach((function(e){switch(e.filterType){case s.FilterType.Categorical:if(!(r=e))throw new Error("Invalid Categorical Filter");n.push(t.convertCategoricalFilter(r));break;case s.FilterType.Range:if(!(r=e))throw new Error("Invalid Range Filter");n.push(t.convertRangeFilter(r));break;case s.FilterType.RelativeDate:var r;if(!(r=e))throw new Error("Invalid Relative Date Filter");n.push(t.convertRelativeDateFilter(r))}})),n},t.prototype.convertCategoricalFilter=function(e){var t=e.values.map((function(e){return d.DataValueFactory.MakeFilterDataValue(e)}));return new c.CategoricalFilter(e.visualId.worksheet,e.fieldCaption,e.fieldName,s.FilterType.Categorical,t,e.isExclude,e.isAllSelected)},t.prototype.convertRangeFilter=function(e){var t=d.DataValueFactory.MakeFilterDataValue(e.min),n=d.DataValueFactory.MakeFilterDataValue(e.max);return new c.RangeFilter(e.visualId.worksheet,e.fieldCaption,e.fieldName,s.FilterType.Range,t,n,e.includeNullValues)},t.prototype.convertRelativeDateFilter=function(e){var t=d.DataValueFactory.MakeFilterDataValue(e.anchorDate);return new c.RelativeDateFilter(e.visualId.worksheet,e.fieldCaption,e.fieldName,i.FilterType.RelativeDate,t,l.InternalToExternalEnumMappings.dateStepPeriod.convert(e.periodType),l.InternalToExternalEnumMappings.dateRangeType.convert(e.rangeType),e.rangeN)},t.prototype.convertCategoricalDomain=function(e,t){var n=e.values.map((function(e){return d.DataValueFactory.MakeFilterDataValue(e)}));return new c.CategoricalDomain(n,t)},t.prototype.convertRangeDomain=function(e,t){var n=d.DataValueFactory.MakeFilterDataValue(e.min),r=d.DataValueFactory.MakeFilterDataValue(e.max);return new c.RangeDomain(n,r,t)},t}(p.ServiceImplBase);t.FilterServiceImpl=g},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(14),s=n(12),u=function(){function e(e,t,n,r){this._worksheetName=e,this._fieldName=t,this._filterType=n,this._fieldId=r}return Object.defineProperty(e.prototype,"worksheetName",{get:function(){return this._worksheetName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldName",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldId",{get:function(){return this._fieldId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterType",{get:function(){return this._filterType},enumerable:!0,configurable:!0}),e.prototype.getFieldAsync=function(){return o.ApiServiceRegistry.instance.getService("data-source-service").getFieldAsync(this._fieldId)},e}();t.Filter=u;var l=function(e){function t(t,n,r,a,i,o,s){var u=e.call(this,t,n,a,r)||this;return u._appliedValues=i,u._isExcludeMode=o,u._isAllSelected=s,u}return a(t,e),Object.defineProperty(t.prototype,"isAllSelected",{get:function(){return this._isAllSelected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appliedValues",{get:function(){return this._appliedValues},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExcludeMode",{get:function(){return this._isExcludeMode},enumerable:!0,configurable:!0}),t.prototype.getDomainAsync=function(e){return e||(e=i.FilterDomainType.Relevant),s.ErrorHelpers.verifyEnumValue(e,i.FilterDomainType,"FilterDomainType"),o.ApiServiceRegistry.instance.getService("filter-service").getCategoricalDomainAsync(this._worksheetName,this._fieldId,e)},t}(u);t.CategoricalFilter=l;var c=function(e){function t(t,n,r,a,i,o,s){var u=e.call(this,t,n,a,r)||this;return u._min=i,u._max=o,u._includeNullValues=s,u}return a(t,e),Object.defineProperty(t.prototype,"minValue",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"includeNullValues",{get:function(){return this._includeNullValues},enumerable:!0,configurable:!0}),t.prototype.getDomainAsync=function(e){var t=o.ApiServiceRegistry.instance.getService("filter-service");return e||(e=i.FilterDomainType.Relevant),s.ErrorHelpers.verifyEnumValue(e,i.FilterDomainType,"FilterDomainType"),t.getRangeDomainAsync(this._worksheetName,this._fieldId,e)},t}(u);t.RangeFilter=c;var p=function(e){function t(t,n,r,a,i,o,s,u){var l=e.call(this,t,n,a,r)||this;return l._anchorDate=i,l._periodType=o,l._rangeType=s,l._rangeN=u,l}return a(t,e),Object.defineProperty(t.prototype,"anchorDate",{get:function(){return this._anchorDate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"periodType",{get:function(){return this._periodType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeType",{get:function(){return this._rangeType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeN",{get:function(){return this._rangeN},enumerable:!0,configurable:!0}),t}(u);t.RelativeDateFilter=p;var f=function(){function e(e,t){this._values=e,this._domainType=t}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._domainType},enumerable:!0,configurable:!0}),e}();t.CategoricalDomain=f;var d=function(){function e(e,t,n){this._min=e,this._max=t,this._domainType=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._domainType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),e}();t.RangeDomain=d},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(18),s=n(108),u=n(106),l=n(59),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"get-data-service"},enumerable:!0,configurable:!0}),t.prototype.getMaxRowLimit=function(){return 1e4},t.prototype.getLimitedMaxRows=function(e){var t=this.getMaxRowLimit()+1;return e>0&&e<t?e:t},t.prototype.getUnderlyingDataAsync=function(e,t,n,r,a,o){var s=this,l=t===u.GetDataType.Summary?i.VerbId.GetDataSummaryData:i.VerbId.GetUnderlyingData,c=l===i.VerbId.GetUnderlyingData?this.getLimitedMaxRows(o):o,p={};return p[i.ParameterId.VisualId]=e,p[i.ParameterId.IgnoreAliases]=n,p[i.ParameterId.IgnoreSelection]=r,p[i.ParameterId.IncludeAllColumns]=a,p[i.ParameterId.MaxRows]=c,this.execute(l,p).then((function(e){var t=e.result;return s.processResultsTable(t.data,t.isSummary)}))},t.prototype.getSelectedMarksAsync=function(e){var t,n=this,r=((t={})[i.ParameterId.VisualId]=e,t);return this.execute(i.VerbId.GetSelectedMarks,r).then((function(e){return{data:e.result.data.map((function(e){return n.processResultsTable(e,!0)}))}}))},t.prototype.getHighlightedMarksAsync=function(e){var t,n=this,r=((t={})[i.ParameterId.VisualId]=e,t);return this.execute(i.VerbId.GetHighlightedMarks,r).then((function(e){return{data:e.result.data.map((function(e){return n.processResultsTable(e,!0)}))}}))},t.prototype.getDataSourceDataAsync=function(e,t,n,r){var a,o=this,s=((a={})[i.ParameterId.DataSourceId]=e,a[i.ParameterId.IgnoreAliases]=t,a[i.ParameterId.MaxRows]=this.getLimitedMaxRows(n),a[i.ParameterId.ColumnsToInclude]=r,a);return this.execute(i.VerbId.GetDataSourceData,s).then((function(e){var t=e.result;return o.processResultsTable(t.data,!1)}))},t.prototype.getLogicalTableDataAsync=function(e,t,n,r,a){var o,s=this,u=((o={})[i.ParameterId.ColumnsToInclude]=a,o[i.ParameterId.DataSourceId]=e,o[i.ParameterId.IgnoreAliases]=n,o[i.ParameterId.LogicalTableId]=t,o[i.ParameterId.MaxRows]=this.getLimitedMaxRows(r),o);return this.execute(i.VerbId.GetLogicalTableData,u).then((function(e){var t=e.result;return s.processResultsTable(t.data,!1)}))},t.prototype.getUnderlyingTableDataAsync=function(e,t,n,r,a,o){var s,u=this,l=((s={})[i.ParameterId.VisualId]=e,s[i.ParameterId.LogicalTableId]=t,s[i.ParameterId.IgnoreAliases]=n,s[i.ParameterId.IgnoreSelection]=r,s[i.ParameterId.IncludeAllColumns]=a,s[i.ParameterId.MaxRows]=this.getLimitedMaxRows(o),s);return this.execute(i.VerbId.GetUnderlyingTableData,l).then((function(e){var t=e.result;return u.processResultsTable(t.data,!1)}))},t.prototype.processResultsTable=function(e,t){var n,r=e.headers.map((function(e){return new s.Column(e.fieldCaption,e.dataType,e.isReferenced,e.index)}));e.marks&&(n=e.marks.map((function(e){return new s.MarkInfo(e.type,e.color,e.tupleId)})));var a=!1===t&&e.dataTable.length===this.getMaxRowLimit()+1;a&&(e.dataTable.length-=1);var i=e.dataTable.map((function(e){return e.map((function(e,t){return l.DataValueFactory.MakeTableDataValue(e,r[t].dataType)}))}));return n?new s.DataTable(i,r,i.length,a,t,n):new s.DataTable(i,r,i.length,a,t)},t}(o.ServiceImplBase);t.GetDataServiceImpl=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._filterFn=e,this._callbackFn=t}return e.prototype.onNotification=function(e){this._filterFn(e)&&this._callbackFn(e)},e}(),a=function(){function e(e){this.dispatcher=e,this._handlers={},this.dispatcher.registerNotificationHandler(this.onNotification.bind(this))}return Object.defineProperty(e.prototype,"serviceName",{get:function(){return"notification-service"},enumerable:!0,configurable:!0}),e.prototype.registerHandler=function(e,t,n){var a=this,i=this._handlers[e]||new Array,o=new r(t,n);return i.push(o),this._handlers[e]=i,function(){return a.removeRegistration(e,o)}},e.prototype.hasHandlersForNotificationType=function(e){return this._handlers.hasOwnProperty(e)},e.prototype.onNotification=function(e){this.hasHandlersForNotificationType(e.notificationId)&&this._handlers[e.notificationId].forEach((function(t){return t.onNotification(e.data)}))},e.prototype.removeRegistration=function(e,t){this.hasHandlersForNotificationType(e)&&(this._handlers[e]=this._handlers[e].filter((function(e){return e!==t})))},e}();t.NotificationServiceImpl=a},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(1),s=n(18),u=n(201),l=n(203),c=n(6),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"parameters-service"},enumerable:!0,configurable:!0}),t.prototype.getParametersForSheetAsync=function(e,t){var n,r=((n={})[o.ParameterId.SheetPath]=e,n);return this.execute(o.VerbId.GetParametersForSheet,r).then((function(e){return e.result.map((function(e){var n=new u.ParameterImpl(e);return new l.Parameter(n,t)}))}))},t.prototype.changeParameterValueAsync=function(e,t){var n,r=((n={})[o.ParameterId.ParameterFieldName]=e,n[o.ParameterId.ParameterValue]=t,n);return this.execute(o.VerbId.ChangeParameterValue,r).then((function(e){return e.result}))},t.prototype.findParameterByNameAsync=function(e,t){return this.findParameterAsync(t,e,void 0)},t.prototype.findParameterByGlobalFieldNameAsync=function(e,t){return this.findParameterAsync(t,void 0,e)},t.prototype.findParameterAsync=function(e,t,n){var r={};if(void 0!==t)r[o.ParameterId.ParameterCaption]=t;else{if(void 0===n)throw new c.TableauError(i.ErrorCodes.InvalidParameter,"name or fieldName must be provided to find parameter");r[o.ParameterId.ParameterFieldName]=n}return this.execute(o.VerbId.FindParameter,r).then((function(t){if("fieldName"in t.result){var n=t.result,r=new u.ParameterImpl(n);return new l.Parameter(r,e)}}))},t}(s.ServiceImplBase);t.ParametersServiceImpl=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(1),i=n(21),o=n(202),s=n(14),u=n(58),l=n(59),c=n(12),p=n(28),f=function(){function e(e){this.setParameterInfo(e)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._parameterInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentValue",{get:function(){return l.DataValueFactory.MakeParameterDataValue(this._parameterInfo.currentValue,this._parameterInfo.dataType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){return i.InternalToExternalEnumMappings.dataType.convert(this._parameterInfo.dataType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._globalFieldName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowableValues",{get:function(){return this._allowableValues},enumerable:!0,configurable:!0}),e.prototype.changeValueAsync=function(e){var t=this;c.ErrorHelpers.verifyParameter(e,"newValue");var n=p.Param.serializeParameterValue(e);return s.ApiServiceRegistry.instance.getService("parameters-service").changeParameterValueAsync(this._globalFieldName,n).then((function(e){return t.setParameterInfo(e),t.currentValue}))},e.prototype.initializeEvents=function(e){var t=this;c.ErrorHelpers.verifyInternalValue(e,"sheet");var n,i=new Array;try{n=s.ApiServiceRegistry.instance.getService("notification-service")}catch(e){return i}var l=new u.SingleEventManagerImpl(r.TableauEventType.ParameterChanged);return n.registerHandler(a.NotificationId.ParameterChanged,(function(e){return e===t._globalFieldName}),(function(t){l.triggerEvent((function(){return new o.ParameterChangedEvent(t,e)}))})),i.push(l),i},e.prototype.setParameterInfo=function(e){this._parameterInfo=e,this._globalFieldName=e.fieldName;var t,n,a,o,s,u=i.InternalToExternalEnumMappings.allowableValues.convert(e.allowableValuesType);u===r.ParameterValueType.List?t=(e.allowableValues||[]).map((function(t){return l.DataValueFactory.MakeParameterDataValue(t,e.dataType)})):u===r.ParameterValueType.Range&&(n=e.minValue&&l.DataValueFactory.MakeParameterDataValue(e.minValue,e.dataType),a=e.maxValue&&l.DataValueFactory.MakeParameterDataValue(e.maxValue,e.dataType),o=e.stepSize,s=e.dateStepPeriod&&i.InternalToExternalEnumMappings.dateStepPeriod.convert(e.dateStepPeriod)),this._allowableValues={type:u,allowableValues:t,minValue:n,maxValue:a,stepSize:o,dateStepPeriod:s}},e}();t.ParameterImpl=f},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(14),s=n(6),u=function(e){function t(t,n){var r=e.call(this,i.TableauEventType.ParameterChanged,n)||this;return r._globalFieldName=t,r}return a(t,e),t.prototype.getParameterAsync=function(){var e=this;return o.ApiServiceRegistry.instance.getService("parameters-service").findParameterByGlobalFieldNameAsync(this._globalFieldName,this.sheet).then((function(t){if(void 0===t)throw new s.TableauError(i.ErrorCodes.MissingParameter,"Cannot find parameter: "+e._globalFieldName);return t}))},t}(n(105).TableauSheetEvent);t.ParameterChangedEvent=u},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var r=e.call(this)||this;return r.parameterImpl=t,r.parameterImpl.initializeEvents(n).forEach((function(e){return r.addNewEventType(e)})),r}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this.parameterImpl.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentValue",{get:function(){return this.parameterImpl.currentValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataType",{get:function(){return this.parameterImpl.dataType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowableValues",{get:function(){return this.parameterImpl.allowableValues},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.parameterImpl.id},enumerable:!0,configurable:!0}),t.prototype.changeValueAsync=function(e){return this.parameterImpl.changeValueAsync(e)},t}(n(55).EventListenerManager);t.Parameter=i},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(205),s=n(0),u=n(1),l=n(28),c=n(18),p=n(6),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"selection-service"},enumerable:!0,configurable:!0}),t.prototype.clearSelectedMarksAsync=function(e){var t,n=((t={})[u.ParameterId.VisualId]=e,t);return this.execute(u.VerbId.ClearSelectedMarks,n).then((function(e){}))},t.prototype.selectMarksByValueAsync=function(e,t,n){var r;if(0===t.length)throw new p.TableauError(s.ErrorCodes.InvalidParameter,"Selection criteria missing for selecting marks by value");var a=this.validateSelectionUpdateType(n),o=this.validateSelectionCriteria(t[0]),l=this.parseSelectionMarks(t,o),c=((r={})[u.ParameterId.VisualId]=e,r[u.ParameterId.SelectionUpdateType]=a,r);switch(o){case i.HierarchicalType:c[u.ParameterId.HierValSelectionModels]=l.hierModelArr;break;case i.RangeType:c[u.ParameterId.QuantRangeSelectionModels]=l.quantModelArr;break;case i.DimensionType:c[u.ParameterId.DimValSelectionModels]=l.dimModelArr}return this.execute(u.VerbId.SelectByValue,c).then((function(e){}))},t.prototype.selectMarksByIdAsync=function(e,t,n){var r;if(0===t.length)throw new p.TableauError(s.ErrorCodes.InvalidParameter,"Marks info missing for selecting marks by Id");var a=this.validateSelectionUpdateType(n),i=this.parseSelectionIds(t),o=((r={})[u.ParameterId.VisualId]=e,r[u.ParameterId.SelectionUpdateType]=a,r[u.ParameterId.Selection]=i.selection,r);return this.execute(u.VerbId.SelectByValue,o).then((function(e){}))},t.prototype.parseSelectionIds=function(e){for(var t=[],n=new o.SelectionModelsContainer,r=0;r<e.length;r++){var a=e[r].tupleId;if(null==a)throw new p.TableauError(s.ErrorCodes.InternalError,"tupleId parsing error");t.push(a.toString())}if(0!==t.length){var i=new o.TupleSelectionModel;i.selectionType="tuples",i.objectIds=t,n.selection=i}return n},t.prototype.parseSelectionMarks=function(e,t){for(var n=new o.SelectionModelsContainer,r=!1,a=0;a<e.length;a++){var u=e[a];if(u.fieldName&&void 0!==u.value&&null!==u.value){var l=new RegExp("([[A-Za-z0-9]+]).*","g"),c=u.value;if(l.test(u.fieldName)){if(t!==i.HierarchicalType){r=!0;break}var f=this.addToParamsList(u.fieldName,u.value);n.hierModelArr.push(f)}else if(void 0!==c.min&&void 0!==c.max){if(t!==i.RangeType){r=!0;break}var d=this.addToRangeParamsList(u.fieldName,c);n.quantModelArr.push(d)}else{if(t!==i.DimensionType){r=!0;break}var g=this.addToParamsList(u.fieldName,u.value);n.dimModelArr.push(g)}}}if(r)throw new p.TableauError(s.ErrorCodes.InternalError,"Selection Criteria parsing error");return n},t.prototype.validateSelectionCriteria=function(e){var t=e,n=new RegExp("([[A-Za-z0-9]+]).*","g"),r=t.value;if(!t.fieldName||void 0===t.value||null===t.value)throw new p.TableauError(s.ErrorCodes.InternalError,"Selection Criteria parsing error");return n.test(t.fieldName)?i.HierarchicalType:void 0!==r.min&&void 0!==r.max?i.RangeType:i.DimensionType},t.prototype.addToParamsList=function(e,t){var n=new o.ValueSelectionModel,r=[];if(t instanceof Array)for(var a=t,i=0;i<a.length;i++)r.push(l.Param.serializeParameterValue(a[i]));else r.push(l.Param.serializeParameterValue(t));return n.qualifiedFieldCaption=e,n.selectValues=r,n},t.prototype.addToRangeParamsList=function(e,t){var n=new o.RangeSelectionModel;return n.qualifiedFieldCaption=e,void 0!==t.max&&null!==t.max&&(n.maxValue=l.Param.serializeParameterValue(t.max)),void 0!==t.min&&null!==t.min&&(n.minValue=l.Param.serializeParameterValue(t.min)),n.included=this.validateNullOptionType(t.nullOption),n},t.prototype.validateSelectionUpdateType=function(e){return e===s.SelectionUpdateType.Replace?u.SelectionUpdateType.Replace:e===s.SelectionUpdateType.Add?u.SelectionUpdateType.Add:e===s.SelectionUpdateType.Remove?u.SelectionUpdateType.Remove:u.SelectionUpdateType.Replace},t.prototype.validateNullOptionType=function(e){if(e){if(e===s.FilterNullOption.NullValues)return u.QuantitativeIncludedValues.IncludeNull;if(e===s.FilterNullOption.NonNullValues)return u.QuantitativeIncludedValues.IncludeNonNull;if(e===s.FilterNullOption.AllValues)return u.QuantitativeIncludedValues.IncludeAll}return u.QuantitativeIncludedValues.IncludeAll},t}(c.ServiceImplBase);t.SelectionServiceImpl=f,function(e){e[e.HierarchicalType=1]="HierarchicalType",e[e.RangeType=2]="RangeType",e[e.DimensionType=3]="DimensionType",e[e.TuplesType=4]="TuplesType"}(i||(i={}))},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.SelectionModel=i;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectValues=[],t}return a(t,e),t}(i);t.ValueSelectionModel=o;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o);t.HierarchicalSelectionModel=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(i);t.RangeSelectionModel=u;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o);t.DimensionSelectionModel=l;var c=function(){this.objectIds=[]};t.TupleSelectionModel=c;var p=function(){this.hierModelArr=[],this.dimModelArr=[],this.quantModelArr=[]};t.SelectionModelsContainer=p},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(12),s=n(28),u=n(107),l=n(1),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"zone-service"},enumerable:!0,configurable:!0}),t.prototype.setVisibilityAsync=function(e,t,n){var r,a=((r={})[l.ParameterId.Dashboard]=e,r[l.ParameterId.ZoneIdsVisibilityMap]={},r);return s.Param.convertParameterToMap(n,"zoneVisibilityMap").forEach((function(e,n){o.ErrorHelpers.verifyZoneIsValid(t,Number.parseInt(n,10)),o.ErrorHelpers.verifyEnumValue(e,i.ZoneVisibilityType,"ZoneVisibilityType"),a[l.ParameterId.ZoneIdsVisibilityMap][n]=u.ExternalToInternalEnumMappings.setVisibilityType.convert(e)})),this.execute(l.VerbId.SetZoneVisibility,a).then((function(e){}))},t}(n(18).ServiceImplBase);t.ZoneServiceImpl=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._dashboard=e}return Object.defineProperty(e.prototype,"dashboard",{get:function(){return this._dashboard},enumerable:!0,configurable:!0}),e}();t.DashboardContent=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),a=function(){function e(e){this._apiVersion=r.ApiVersion.Instance&&r.ApiVersion.Instance.formattedValue,this._context=r.InternalToExternalEnumMappings.extensionContext.convert(e.extensionContext),this._language=e.extensionLanguage,this._locale=e.extensionLocale,this._mode=r.InternalToExternalEnumMappings.extensionMode.convert(e.extensionMode),this._operatingSystem=e.operatingSystem,this._tableauVersion=e.tableauVersion}return Object.defineProperty(e.prototype,"apiVersion",{get:function(){return this._apiVersion},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){return this._language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operatingSystem",{get:function(){return this._operatingSystem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tableauVersion",{get:function(){return this._tableauVersion},enumerable:!0,configurable:!0}),e}();t.Environment=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),a=n(210),i=n(211),o=n(212);t.registerAllExtensionsServices=function(e){r.ApiServiceRegistry.instance.registerService(new i.SettingsServiceImpl(e)),r.ApiServiceRegistry.instance.registerService(new o.UIServiceImpl(e))},t.registerInitializationExtensionsServices=function(e){r.ApiServiceRegistry.instance.registerService(new a.InitializationServiceImpl(e))}},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"InitializationService"},enumerable:!0,configurable:!0}),t.prototype.initializeDashboardExtensionsAsync=function(e,t){var n,r=((n={})[o.ParameterId.ExtensionContextMenuIds]=t,n[o.ParameterId.IsExtensionDialog]=e,n);return this.execute(o.VerbId.InitializeExtension,r).then((function(e){return e.result}))},t}(i.ServiceImplBase);t.InitializationServiceImpl=s},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(5),s=n(1),u=n(5),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"SettingsService"},enumerable:!0,configurable:!0}),t.prototype.saveSettingsAsync=function(e){var t,n=((t={})[s.ParameterId.SettingsValues]=e,t);return this.execute(s.VerbId.SaveExtensionSettings,n).then((function(e){var t=e.result;if(!t||!t.settingsValues)throw new u.TableauError(i.ErrorCodes.InternalError,"Unexpected error savings settings.");return t.settingsValues}))},t}(o.ServiceImplBase);t.SettingsServiceImpl=l},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(1),s=n(5),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"UIService"},enumerable:!0,configurable:!0}),t.prototype.displayDialogAsync=function(e,t,n){var r,a=((r={})[o.ParameterId.ExtensionDialogUrl]=e,r[o.ParameterId.ExtensionDialogPayload]=t,r),u=n&&n.height?n.height:400,l=n&&n.width?n.width:600;if(u<=0||l<=0)throw new s.TableauError(i.ErrorCodes.InvalidParameter,"Size parameters for displayDialogAsync must be positive");return a[o.ParameterId.ExtensionDialogH]=u,a[o.ParameterId.ExtensionDialogW]=l,this.execute(o.VerbId.DisplayDialog,a).then((function(e){switch(e.result){case o.ExtensionDialogResult.DialogAlreadyOpen:throw new s.TableauError(i.ErrorCodes.DialogAlreadyOpen,"There already exists an open dialog for this extension.");case o.ExtensionDialogResult.InvalidDomain:throw new s.TableauError(i.ErrorCodes.InvalidDomainDialog,"The url of an extension dialog must match the domain of the parent extension.");default:return}}))},t.prototype.closeDialog=function(e){var t,n=e?((t={})[o.ParameterId.ExtensionDialogPayload]=e,t):{};return this.execute(o.VerbId.CloseDialog,n).then((function(e){}))},t}(s.ServiceImplBase);t.UIServiceImpl=u},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this)||this;return n._settingsImpl=t,n._settingsImpl.initializeEvents().forEach((function(e){return n.addNewEventType(e)})),n}return a(t,e),t.prototype.erase=function(e){this._settingsImpl.erase(e)},t.prototype.get=function(e){return this._settingsImpl.get(e)},t.prototype.getAll=function(){return this._settingsImpl.getAll()},Object.defineProperty(t.prototype,"isModified",{get:function(){return this._settingsImpl.isModified},enumerable:!0,configurable:!0}),t.prototype.saveAsync=function(){return this._settingsImpl.saveAsync()},t.prototype.set=function(e,t){this._settingsImpl.set(e,t)},t}(n(5).EventListenerManager);t.Settings=i},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(1),s=n(5),u=function(e){function t(t){var n=e.call(this,i.TableauEventType.SettingsChanged)||this;return n._newSettings=t,n}return a(t,e),Object.defineProperty(t.prototype,"newSettings",{get:function(){return this._newSettings},enumerable:!0,configurable:!0}),t}(s.TableauEvent),l=function(){function e(e){this._saveInProgress=!1,this.initializeSettings(e)}return e.prototype.erase=function(e){s.ErrorHelpers.verifyParameter(e,"key"),this._currentSettings[e]&&(this.verifySettingsAreUnlocked(),delete this._currentSettings[e],this._isModified=!0)},e.prototype.get=function(e){return s.ErrorHelpers.verifyParameter(e,"key"),this._currentSettings[e]},e.prototype.getAll=function(){return Object.assign({},this._currentSettings)},Object.defineProperty(e.prototype,"isModified",{get:function(){return this._isModified},enumerable:!0,configurable:!0}),e.prototype.saveAsync=function(){var e=this;return this.verifySettingsAreUnlocked(),this._isModified?(this._saveInProgress=!0,s.ApiServiceRegistry.instance.getService("SettingsService").saveSettingsAsync(this._currentSettings).then((function(t){return e._saveInProgress=!1,e._isModified=!1,void 0===e._currentSettings?e._currentSettings=t:Object.assign(e._currentSettings,t),t}),(function(t){return e._saveInProgress=!1,Promise.reject(t)}))):Promise.resolve(this._currentSettings)},e.prototype.set=function(e,t){s.ErrorHelpers.verifyStringParameter(e,"key"),s.ErrorHelpers.verifyParameter(t,"value"),this.verifySettingsAreUnlocked(),this._currentSettings[e]=t,this._isModified=!0},e.prototype.initializeEvents=function(){var e,t=this,n=new Array;try{e=s.ApiServiceRegistry.instance.getService("notification-service")}catch(e){return n}var r=new s.SingleEventManagerImpl(i.TableauEventType.SettingsChanged);return e.registerHandler(o.NotificationId.SettingsChanged,(function(e){return!0}),(function(e){t._currentSettings=e.newSettings,r.triggerEvent((function(){return new u(e.newSettings)}))})),n.push(r),n},e.prototype.initializeSettings=function(e){s.ErrorHelpers.verifyParameter(e,"settingsInfo"),s.ErrorHelpers.verifyParameter(e.settingsValues,"settingsInfo.SettingsValues"),this._currentSettings=e.settingsValues,this._isModified=!1},e.prototype.verifySettingsAreUnlocked=function(){if(this._saveInProgress)throw new s.TableauError(i.ErrorCodes.SettingSaveInProgress,e.ASYNC_SAVE_IN_PROGRESS)},e.ASYNC_SAVE_IN_PROGRESS="Async Save is in progress, updating settings is not allowed.",e}();t.SettingsImpl=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._impl=e}return e.prototype.displayDialogAsync=function(e,t,n){return this._impl.displayDialogAsync(e,t,n)},e.prototype.closeDialog=function(e){this._impl.closeDialog(e)},e}();t.UI=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(1),i=n(5),o=function(){function e(){}return e.prototype.displayDialogAsync=function(e,t,n){var o=i.ApiServiceRegistry.instance.getService("UIService"),s=i.ApiServiceRegistry.instance.getService("notification-service");return new Promise((function(u,l){o.displayDialogAsync(e,t||"",n).then((function(){var e=s.registerHandler(a.NotificationId.ExtensionDialogUpdate,(function(e){return!0}),(function(t){t.isCloseEvent?u(t.closePayload):l(new i.TableauError(r.ErrorCodes.DialogClosedByUser,"Extension dialog closed by user.")),e()}))})).catch((function(e){l(e)}))}))},e.prototype.closeDialog=function(e){i.ApiServiceRegistry.instance.getService("UIService").closeDialog(e)},e}();t.UIImpl=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=function(){function e(e,t){var n=this;this._apiDelegateDispatcher=e,this._versionConverter=r.CreateExternalCompatibleVersionConverter(r.INTERNAL_CONTRACT_VERSION,t),this._notificationHandlers=[],e.registerNotificationHandler((function(e){if(0!==n._notificationHandlers.length){var t=n._versionConverter.upgradeNotification(e);n._notificationHandlers.forEach((function(e){e(t)}))}}))}return e.needsVersionConverter=function(e){return r.VersionLessThan(e,r.INTERNAL_CONTRACT_VERSION)},e.prototype.execute=function(e,t){var n=this;try{var r=this._versionConverter.downgradeExecuteCall(e,t);return this._apiDelegateDispatcher.execute(r.verb,r.parameters).then((function(e){return n._versionConverter.upgradeExecuteReturn(e)}))}catch(e){return Promise.reject(e)}},e.prototype.registerNotificationHandler=function(e){this._notificationHandlers.push(e)},e.prototype.unregisterNotificationHandler=function(e){this._notificationHandlers=this._notificationHandlers.filter((function(t){return t!==e}))},e}();t.VersionedExternalApiDispatcher=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);!function(e){function t(e){return e&&void 0!==e.isAlpha||window.__warningIssued?e&&e.isAlpha&&window.__platformIsOfficialRelease&&window.__tableauDesktopDispatcher.then((function(e){e(r.INTERNAL_CONTRACT_VERSION).execute(r.VerbId.BlockExtension,{}).catch()})).catch():(console.warn("This is a beta version of the Extensions API. Please upgrade to an official release."),window.__warningIssued=!0),window.__tableauDesktopDispatcher}e.getDesktopDispatcherPromise=t,e.hasDesktopApiDispatcherPromise=function(e){return!!t(e)}}(t.LegacyInternalApiDispatcherHolder||(t.LegacyInternalApiDispatcherHolder={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.extensionImpl=e,this.extensionImpl=e}return Object.defineProperty(e.prototype,"dashboardContent",{get:function(){return this.extensionImpl.dashboardContent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"environment",{get:function(){return this.extensionImpl.environment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"settings",{get:function(){return this.extensionImpl.settings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ui",{get:function(){return this.extensionImpl.ui},enumerable:!0,configurable:!0}),e.prototype.initializeAsync=function(e){return this.extensionImpl.initializeAsync(!1,e).then()},e.prototype.initializeDialogAsync=function(){return this.extensionImpl.initializeAsync(!0)},e}();t.Extensions=r}]);var g=n("8c4f"),y=n("c6a6"),m=n("8336"),v=n("132d"),h=n("b73d"),_=function(){var e=this,t=e._self._c;return t("div",[t("div",[t("div",{staticClass:"row mt-1 ml-2"},[1!=this.manual_review.status||this.reopened?e._e():t(m["a"],{staticClass:"ma-2 ml-1 col-4",attrs:{color:"normal"},on:{click:function(t){return e.changeStatus()}}},[t(v["a"],{attrs:{dark:"",left:""}},[e._v(" mdi-arrow-right-drop-circle-outline ")]),e._v(" Iniciar Revisão ")],1),1==this.manual_review.status&&this.reopened?t(m["a"],{staticClass:"ma-2 ml-1 col-4",attrs:{color:"normal"},on:{click:function(t){return e.changeStatus()}}},[t(v["a"],{attrs:{dark:"",left:""}},[e._v(" mdi-arrow-right-drop-circle-outline ")]),e._v(" Reabrir Revisão ")],1):e._e(),2==this.manual_review.status?t(m["a"],{staticClass:"ma-2 ml-1 col-4",attrs:{color:"secondary"},on:{click:function(t){return e.changeStatus()}}},[t(v["a"],{attrs:{dark:"",left:""}},[e._v(" mdi-pause-octagon-outline ")]),e._v(" Finalizar Revisão ")],1):e._e(),t(y["a"],{staticClass:"col-7",attrs:{items:e.analysts,label:"Analista Principal",disabled:1==this.manual_review.status},model:{value:e.analyst_name,callback:function(t){e.analyst_name=t},expression:"analyst_name"}}),t(m["a"],{staticClass:"ma-2 ml-1 col-3",attrs:{color:"normal",disabled:1==this.manual_review.status},on:{click:function(t){return e.onCommentClick()}}},[t(v["a"],{attrs:{dark:"",left:""}},[e._v(" mdi-file-plus ")]),e._v(" Adicionar Comentario ")],1),t(m["a"],{staticClass:"ma-2 col-3",attrs:{color:"primary",disabled:1==this.manual_review.status},on:{click:function(t){return e.onReviewLeakageClick()}}},[t(v["a"],{attrs:{dark:"",left:""}},[e._v(" mdi-message-draw ")]),e._v("Revisar Leakage ")],1),t(y["a"],{staticClass:"col-3",attrs:{items:e.regions,label:"Região",disabled:1==this.manual_review.status},model:{value:e.manual_review.region,callback:function(t){e.$set(e.manual_review,"region",t)},expression:"manual_review.region"}}),t(h["a"],{staticClass:"ma-2 ml-9",attrs:{inset:"",label:e.isR2?"R2":"R1"},model:{value:e.isR2,callback:function(t){e.isR2=t},expression:"isR2"}})],1)])])},b=[],I=(n("55dd"),n("96cf"),n("1da1")),T=(n("6762"),n("2fdb"),n("bc3a")),A=n.n(T),E=(new r["a"],{API_URL:"/api",URL_DEV:"http://localhost:3000/api",AWS_URL:"https://ymn3q050s9.execute-api.sa-east-1.amazonaws.com/latest/api"}),S={data:function(){return{title:"Manual review",isR2:!1,regions:[],manual_review:{sise_key:null,user_name:null,status:1,created_at:null,region:null},analysts:[],analyst_name:null,reopened:!1}},methods:{getValueFromDataTable:function(e,t){var n=e._columns.find((function(e){if(e._fieldName.includes("(")){var n=e._fieldName.substring(e._fieldName.indexOf("(")+1,e._fieldName.length-1);return n==t}return e._fieldName==t}));return"undefined"!=typeof n?e._data[0][n._index]._value:null},configure:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="".concat(window.location.origin,"/zurich_extension_motor_client/#/configure"),e.next=3,tableau.extensions.ui.displayDialogAsync(t,"JSON.stringify(dataTable)",{height:750,width:500}).then((function(e){console.log(e)})).catch((function(e){switch(e.errorCode){case tableau.ErrorCodes.DialogClosedByUser:console.log("Dialog was closed by user");break;default:console.error(e.message)}}));case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),onReviewLeakageClick:function(){var e=this,t="".concat(window.location.origin,"/zurich_extension_motor_client/#/review_leakage"),n=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return e.name===tableau.extensions.settings.get("VALIDATION_WORKSHEET")}));n.getSummaryDataAsync().then((function(n){n["isR2"]=e.isR2,n["region"]=e.manual_review.region,tableau.extensions.ui.displayDialogAsync(t,JSON.stringify(n),{height:400,width:500}).then((function(e){console.log(e)})).catch((function(e){switch(e.errorCode){case tableau.ErrorCodes.DialogClosedByUser:console.log("Dialog was closed by user");break;default:console.error(e.message)}}))}))},onCommentClick:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this,n="".concat(window.location.origin,"/zurich_extension_motor_client/#/comment"),r=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return"DETALHE1"===e.name})),r.getSummaryDataAsync().then((function(e){e["analystName"]=t.analyst_name,e["analysts"]=t.analysts,e["isR2"]=t.isR2,e["region"]=t.manual_review.region,tableau.extensions.ui.displayDialogAsync(n,JSON.stringify(e),{height:350,width:500}).then((function(e){console.log(e)})).catch((function(e){switch(e.errorCode){case tableau.ErrorCodes.DialogClosedByUser:console.log("Dialog was closed by user");break;default:console.error(e.message)}}))}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addValidationEventHandler:function(){var e=this,t=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return e.name===tableau.extensions.settings.get("VALIDATION_WORKSHEET")})),n=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return e.name===tableau.extensions.settings.get("MANUAL_REVIEW_WORKSHEET")}));t.addEventListener(tableau.TableauEventType.MarkSelectionChanged,(function(t){t.getMarksAsync().then((function(t){var n=t.data[0];if(n["isR2"]=e.isR2,n["region"]=e.manual_review.region,1==n.totalRowCount){var r="".concat(window.location.origin,"/zurich_extension_motor_client/#/review_validation");tableau.extensions.ui.displayDialogAsync(r,JSON.stringify(n),{height:450,width:500}).then((function(e){})).catch((function(e){switch(e.errorCode){case tableau.ErrorCodes.DialogClosedByUser:console.log("Dialog was closed by user");break;default:console.error(e.message)}}))}}))})),n.addEventListener(tableau.TableauEventType.MarkSelectionChanged,(function(t){t.getMarksAsync().then((function(t){var n=t.data[0];if(n["analystName"]=e.analyst_name,n["isR2"]=e.isR2,n["region"]=e.manual_review.region,console.log(n),1==n.totalRowCount){var r="".concat(window.location.origin,"/zurich_extension_motor_client/#/manual_review");tableau.extensions.ui.displayDialogAsync(r,JSON.stringify(n),{height:490,width:500}).then((function(e){})).catch((function(e){switch(e.errorCode){case tableau.ErrorCodes.DialogClosedByUser:console.log("Dialog was closed by user");break;default:console.error(e.message)}}))}}))}))},changeStatus:function(){var e=this;this.manual_review.created_at=new Date(Date.now()).toISOString(),A.a.get("".concat(E.AWS_URL,"/get_status_motor?sise_key=").concat(this.manual_review.sise_key)).then((function(t){"nothing"==t.data?A.a.post("".concat(E.AWS_URL,"/create_status_motor"),e.manual_review):A.a.post("".concat(E.AWS_URL,"/update_status_motor"),e.manual_review)})),1==this.manual_review.status?(this.manual_review.status=2,this.addValidationEventHandler()):(this.reopened=!0,this.manual_review.status=1)},changeStage:function(){A.a.post("".concat(E.AWS_URL,"/update_stage_motor"),{sise_key:this.manual_review.sise_key,stage:this.isR2?2:1})}},mounted:function(){var e=this;tableau.extensions.initializeAsync({configure:this.configure}).then(Object(I["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return e.name===tableau.extensions.settings.get("MANUAL_REVIEW_WORKSHEET")})),n.getSummaryDataAsync().then((function(t){e.manual_review.sise_key=e.getValueFromDataTable(t,tableau.extensions.settings.get("MANUAL_REVIEW_SISE_KEY")),e.manual_review.user_name=e.getValueFromDataTable(t,tableau.extensions.settings.get("MANUAL_REVIEW_USER")),A.a.get("".concat(E.AWS_URL,"/get_status_motor?sise_key=").concat(e.manual_review.sise_key)).then((function(t){console.log(t),"nothing"==t.data?e.manual_review.status=1:1==t.data[0].status?e.reopened=!0:(e.manual_review.status=2,e.addValidationEventHandler())})),A.a.get("".concat(E.AWS_URL,"/get_stage_motor?sise_key=").concat(e.manual_review.sise_key)).then((function(t){e.isR2=2==t.data[0].stage}))})),r=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return"depara_region"===e.name})),r.getSummaryDataAsync().then((function(t){t.data.forEach((function(t){e.regions.push(t[1]._formattedValue)})),e.manual_review.region=e.regions[0]})),a=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return"Supp_analista"===e.name})),a.getSummaryDataAsync().then((function(t){t.data.forEach((function(t){e.analysts.push(t[0]._value)})),e.analysts=e.analysts.filter((function(e){return e})).sort()})),i=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return"DETALHE1"===e.name})),i.getSummaryDataAsync().then((function(t){e.analyst_name=t.data[0][2]._value}));case 8:case"end":return t.stop()}}),t)}))))}},w=S,D=Object(c["a"])(w,_,b,!1,null,null,null),O=D.exports,x=n("b0af"),P=n("99d9"),R=n("a523"),M=n("169a"),V=n("ce7e"),N=n("4bd4"),C=n("8e36"),j=n("67b6"),k=n("43a6"),F=n("b974"),L=n("2db4"),U=n("2fa4"),H=n("71d9"),W=function(){var e=this,t=e._self._c;return t(R["a"],[t(H["a"],{attrs:{color:"primary",cards:"",dark:"",flat:""}},[t(P["c"],{staticClass:"col-8 title font-weight-regular"},[e._v(" Revisão Manual Validação ")]),t(F["a"],{staticClass:"pt-5",attrs:{items:e.periodos,label:"Periodo"},model:{value:e.manual_review.period,callback:function(t){e.$set(e.manual_review,"period",t)},expression:"manual_review.period"}})],1),t(N["a"],{ref:"form",staticClass:"pa-4 pt-4"},[t("h5",{staticStyle:{"margin-bottom":"30px"}},[e._v(" "+e._s(e.manual_review.verification)+" ")]),t(k["a"],{attrs:{row:"",rules:[function(e){return!!e||"Selecione uma opção."}]},on:{change:function(t){return e.onChangeManualResult(t)}},model:{value:e.manual_review.manual_result,callback:function(t){e.$set(e.manual_review,"manual_result",t)},expression:"manual_review.manual_result"}},[t("div",{staticClass:"row",staticStyle:{"justify-content":"space-between"}},[t(j["a"],{attrs:{label:"Compliance",value:"1"}}),t(j["a"],{attrs:{label:"Não Compliance",value:"2"}}),t(j["a"],{attrs:{label:"N/A",value:"3"}})],1)]),t(F["a"],{attrs:{items:e.items,"item-value":"value","item-text":"text",label:"Resultado Automático",disabled:""},model:{value:e.manual_review.automated_result,callback:function(t){e.$set(e.manual_review,"automated_result",t)},expression:"manual_review.automated_result"}}),2==e.manual_review.manual_result?t(F["a"],{attrs:{items:e.root_causes,label:"Causa raiz"},model:{value:e.manual_review.root_cause_id,callback:function(t){e.$set(e.manual_review,"root_cause_id",t)},expression:"manual_review.root_cause_id"}}):e._e()],1),t(V["a"]),t(P["a"],[t(m["a"],{attrs:{text:""},on:{click:function(t){return e.closeDialog()}}},[e._v(" Cancelar ")]),t(U["a"]),t(m["a"],{staticClass:"white--text",attrs:{color:"primary"},on:{click:function(t){return e.saveDialog()}}},[e._v(" Salvar ")])],1),t(M["a"],{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(x["a"],{attrs:{color:"primary",dark:""}},[t(P["b"],[e._v(" Processando... "),t(C["a"],{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),t(L["a"],{scopedSlots:e._u([{key:"action",fn:function(n){var r=n.attrs;return[t(m["a"],e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.error_dialog=!1}}},"v-btn",r,!1),[e._v(" Fechar ")])]}}]),model:{value:e.error_dialog,callback:function(t){e.error_dialog=t},expression:"error_dialog"}},[e._v(" "+e._s(e.error_text)+" ")])],1)},z=[],G={data:function(){var e=this;return{manual_review:{sise_key:"",validation_id:"",automated_result:"",manual_result:null,root_cause_id:null,user:"",created_at:"",verification:null,period:null,stage:null,region:null},coverage_id:"",items:[{text:"COMPLIANCE",value:1},{text:"NON COMPLIANCE",value:0}],root_causes:[],periodos:[],dialog:!1,error_dialog:!1,error_text:"",validateRootCause:[function(t){return"0"!=e.manual_review.manual_result||(!!t||"Selecione uma opção.")}]}},methods:{getValueFromDataTable:function(e,t){var n=e._columns.find((function(e){return e._fieldName==t}));return"undefined"!=typeof n?e._data[0][n._index]._value:null},onChangeManualResult:function(e){2==e&&this.fetchRootCauses({coverage_id:this.coverage_id,validation_id:this.manual_review.validation_id})},fetchRootCauses:function(e){var t=this;console.log("payload",e),this.dialog=!0;var n="".concat(E.AWS_URL,"/rootcauses_coverage");e&&(n+="?coverage_id=".concat(e.coverage_id,"&validation_id=").concat(e.validation_id)),A.a.get(n).then((function(e){t.root_causes=e.data.map((function(e){return{value:e.root_cause_id,text:e.description_pt_br}})),t.dialog=!1})).catch((function(e){throw t.dialog=!1,t.error_text="Erro ao recuperar lista de causas. ".concat(e.message),t.error_dialog=!0,e}))},closeDialog:function(){tableau.extensions.ui.closeDialog()},saveDialog:function(){var e=this;if(this.$refs.form.validate()){this.manual_review.created_at=new Date(Date.now()).toISOString().split(".")[0],this.dialog=!0;var t="".concat(E.AWS_URL,"/manual_review_validation_motor");console.log(this.manual_review),A.a.post(t,this.manual_review).then((function(){var t=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return e.name===tableau.extensions.settings.get("VALIDATION_WORKSHEET")}));t.getDataSourcesAsync().then((function(t){var n=t.find((function(e){return e.name===tableau.extensions.settings.get("VALIDATION_DATASOURCE_TO_REFRESH")}));n.refreshAsync().then((function(){e.dialog=!1,tableau.extensions.ui.closeDialog(JSON.stringify(e.manual_review))})).catch((function(t){throw e.dialog=!1,e.error_text="Erro ao atualizar dados no painel. Entretanto os dados foram salvos. ".concat(t.message),e.error_dialog=!0,t}))})).catch((function(t){throw e.dialog=!1,e.error_text="Erro ao atualizar dados no painel. Entretanto os dados foram salvos. ".concat(t.message),e.error_dialog=!0,t}))})).catch((function(t){throw e.dialog=!1,e.error_text="Erro ao salvar dados no servidor. ".concat(t.message),e.error_dialog=!0,t}))}}},mounted:function(){for(var e=new Date,t=Math.floor((e.getMonth()+3)/3),n=0;n<t;n++)this.periodos.push(e.getFullYear()+" - Q"+(n+1));for(var r=0;r<4;r++)this.periodos.push(e.getFullYear()-1+" - Q"+(r+1));this.manual_review.period=e.getFullYear()+" - Q"+t;var a=this;tableau.extensions.initializeDialogAsync().then((function(e){var t=JSON.parse(e);a.manual_review.stage=t.isR2?"2":"1",a.manual_review.region=t.region,a.manual_review.user=a.getValueFromDataTable(t,tableau.extensions.settings.get("VALIDATION_USER_FIELD")),a.manual_review.sise_key=a.getValueFromDataTable(t,tableau.extensions.settings.get("VALIDATION_SISE_KEY_FIELD")),a.manual_review.automated_result=a.getValueFromDataTable(t,tableau.extensions.settings.get("VALIDATION_AUTOMATED_RESULT_FIELD")),a.coverage_id=a.getValueFromDataTable(t,tableau.extensions.settings.get("VALIDATION_COVERAGE_ID_FIELD")),a.manual_review.validation_id=a.getValueFromDataTable(t,tableau.extensions.settings.get("VALIDATION_VALIDATION_ID_FIELD")),a.manual_review.verification=a.getValueFromDataTable(t,tableau.extensions.settings.get("MANUAL_REVIEW_VERIFICATION")),a.manual_review.created_at=new Date(Date.now()).toISOString(),console.log(a.manual_review)}))}},B=G,Y=Object(c["a"])(B,W,z,!1,null,"bb02edf4",null),K=Y.exports,Q=n("ac7c"),q=n("62ad"),Z=n("0fd9"),$=n("a844"),J=function(){var e=this,t=e._self._c;return t(R["a"],[t(H["a"],{attrs:{color:"primary",cards:"",dark:"",flat:""}},[t(P["c"],{staticClass:"col-8 title font-weight-regular"},[e._v(" Revisão Manual ")]),t(F["a"],{staticClass:"pt-5",attrs:{items:e.periodos,label:"Periodo",rules:e.notEmptyRule},model:{value:e.manual_review.period,callback:function(t){e.$set(e.manual_review,"period",t)},expression:"manual_review.period"}})],1),t(N["a"],{ref:"form",staticClass:"pa-4"},[t("h5",{staticStyle:{"margin-bottom":"30px"}},[e._v(" "+e._s(e.manual_review.verification)+" ")]),t(k["a"],{attrs:{row:"",rules:[function(e){return!!e||"Selecione uma opção."}]},model:{value:e.manual_review.result,callback:function(t){e.$set(e.manual_review,"result",t)},expression:"manual_review.result"}},[t("div",{staticClass:"row",staticStyle:{"justify-content":"space-between"}},[t(j["a"],{attrs:{label:"Compliance",value:"1"}}),t(j["a"],{attrs:{label:"Não Compliance",value:"2"}}),t(j["a"],{attrs:{label:"N/A",value:"3"}})],1)]),0!=e.manual_review.result?t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t(F["a"],{attrs:{items:e.analysts,label:"Analista",disabled:e.haveAnalyst},model:{value:e.manual_review.analyst_name,callback:function(t){e.$set(e.manual_review,"analyst_name",t)},expression:"manual_review.analyst_name"}}),2==e.manual_review.result?t(F["a"],{attrs:{items:e.impactos,label:"Impacto"},model:{value:e.manual_review.impact,callback:function(t){e.$set(e.manual_review,"impact",t)},expression:"manual_review.impact"}}):e._e()],1),t("div",{staticClass:"col-6"},[t($["a"],{attrs:{filled:"",name:"input-7-4",label:"Comentario"},model:{value:e.manual_review.comment,callback:function(t){e.$set(e.manual_review,"comment",t)},expression:"manual_review.comment"}})],1),2==e.manual_review.result?t(Z["a"],[t(q["a"],{attrs:{md:"2"}},[t(Q["a"],{attrs:{label:"Oportunidade Treinamento"},model:{value:e.manual_review.training_opportunity,callback:function(t){e.$set(e.manual_review,"training_opportunity",t)},expression:"manual_review.training_opportunity"}})],1),t(q["a"],{attrs:{md:"2"}}),t(q["a"],{attrs:{md:"2"}}),t(q["a"],{staticClass:"pt-8",attrs:{md:"2"}},[t(m["a"],{staticClass:"white--text",attrs:{color:"primary",disabled:null==e.manual_review.impact||""==e.manual_review.comment},on:{click:function(t){return e.saveDialog()}}},[e._v(" Salvar ")])],1)],1):e._e(),t("div",{staticClass:"col-9"},[1==e.manual_review.result?t(Q["a"],{attrs:{label:"Feedback Positivo"},model:{value:e.manual_review.feedback_positive,callback:function(t){e.$set(e.manual_review,"feedback_positive",t)},expression:"manual_review.feedback_positive"}}):e._e()],1),t("div",{staticClass:"col-3 pt-8"},[2!=e.manual_review.result?t(m["a"],{staticClass:"white--text",attrs:{color:"primary"},on:{click:function(t){return e.saveDialog()}}},[e._v(" Salvar ")]):e._e()],1)],1):e._e()],1),t(M["a"],{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(x["a"],{attrs:{color:"primary",dark:""}},[t(P["b"],[e._v(" Processando... "),t(C["a"],{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),t(L["a"],{scopedSlots:e._u([{key:"action",fn:function(n){var r=n.attrs;return[t(m["a"],e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.error_dialog=!1}}},"v-btn",r,!1),[e._v(" Fechar ")])]}}]),model:{value:e.error_dialog,callback:function(t){e.error_dialog=t},expression:"error_dialog"}},[e._v(" "+e._s(e.error_text)+" ")])],1)},X=[],ee=A.a.create({baseURL:""}),te=(function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ee.get("".concat(E.AWS_URL,"/rootcauses"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}}(),{data:function(){return{isAnalyst_OfDatabase:!1,haveAnalyst:!1,analysts:[],causes:[],periodos:[],checkbox1:!1,impactos:["Baixo","Médio","Alto"],manual_review:{id:"",root_cause_id:null,analyst_name:null,impact:null,comment:"",feedback_positive:null,training_opportunity:null,result:0,sise_key:"",validation_id:"",verification:"",user_name:"",created_at:"",period:"",stage:null,region:null},root_causes:[],dialog:!1,error_dialog:!1,error_text:"",notEmptyRule:[function(e){return""!=e||(!!e||"Selecione uma opção.")}]}},methods:{getValueFromDataTable:function(e,t){var n=e._columns.find((function(e){return e._fieldName==t}));return"undefined"!=typeof n?e._data[0][n._index]._value:null},closeDialog:function(){tableau.extensions.ui.closeDialog()},saveDialog:function(){var e=this;if(this.$refs.form.validate()){this.manual_review.created_at=new Date(Date.now()).toISOString().split(".")[0],this.dialog=!0;var t="".concat(E.AWS_URL,"/manual_check_motor");A.a.post(t,this.manual_review).then((function(){var t=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return e.name===tableau.extensions.settings.get("MANUAL_REVIEW_WORKSHEET")}));t.getDataSourcesAsync().then((function(t){var n=t.find((function(e){return e.name===tableau.extensions.settings.get("MANUAL_REVIEW_DATASOURCE")}));n.refreshAsync().then((function(){e.dialog=!1,tableau.extensions.ui.closeDialog(JSON.stringify(e.manual_review))})).catch((function(t){throw e.dialog=!1,e.error_text="Erro ao atualizar dados no painel. Entretanto os dados foram salvos. ".concat(t.message),e.error_dialog=!0,t}))})).catch((function(t){throw e.dialog=!1,e.error_text="Erro ao atualizar dados no painel. Entretanto os dados foram salvos. ".concat(t.message),e.error_dialog=!0,t}))})).catch((function(t){throw e.dialog=!1,e.error_text="Erro ao salvar dados no servidor. ".concat(t.message),e.error_dialog=!0,t}))}}},mounted:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=new Date,n=Math.floor((t.getMonth()+3)/3),r=0;r<n;r++)this.periodos.push(t.getFullYear()+" - Q"+(r+1));for(a=0;a<4;a++)this.periodos.push(t.getFullYear()-1+" - Q"+(a+1));this.manual_review.period=t.getFullYear()+" - Q"+n,i=this,tableau.extensions.initializeDialogAsync().then((function(e){var t=this,n=JSON.parse(e);i.manual_review.stage=n.isR2?"2":"1",i.manual_review.region=n.region;var r=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return"Supp_analista"===e.name}));r.getSummaryDataAsync().then((function(e){e.data.forEach((function(e){i.analysts.push(e[0]._value)})),i.analysts=i.analysts.filter((function(e){return e})).sort()})),i.manual_review.user_name=i.getValueFromDataTable(n,tableau.extensions.settings.get("MANUAL_REVIEW_USER")),i.manual_review.sise_key=i.getValueFromDataTable(n,tableau.extensions.settings.get("MANUAL_REVIEW_SISE_KEY")),i.manual_review.verification=i.getValueFromDataTable(n,tableau.extensions.settings.get("MANUAL_REVIEW_VERIFICATION")),i.manual_review.validation_id=i.getValueFromDataTable(n,tableau.extensions.settings.get("MANUAL_REVIEW_VALIDATION_ID")),i.manual_review.created_at=new Date(Date.now()).toISOString(),console.log("manueal review",i.manual_review),A.a.get("".concat(E.AWS_URL,"/getAnalystById_motor?validation_id=").concat(i.manual_review.validation_id,"&sise_key=").concat(i.manual_review.sise_key)).then((function(e){"nothing"!=e.data?(i.isAnalyst_OfDatabase=!0,i.manual_review.analyst_name=e.data):(console.log(n.analystName),i.manual_review.analyst_name=n.analystName),t.haveAnalyst=!0})),console.log("manueal review",i.manual_review)}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{"manual_review.result":function(e){this.manual_review.feedback_positive="1"!=e&&null,this.manual_review.training_opportunity="2"!=e&&null}}}),ne=te,re=(n("0d31"),Object(c["a"])(ne,J,X,!1,null,"75b54804",null)),ae=re.exports,ie=n("e0c7"),oe=n("8654"),se=function(){var e=this,t=e._self._c;return t(R["a"],[t(H["a"],{attrs:{color:"primary",cards:"",dark:"",flat:""}},[t(P["c"],{staticClass:"col-6 title font-weight-regular"},[e._v(" Revisão Leakage ")]),t(F["a"],{staticClass:"pt-5",attrs:{items:e.periodos,label:"Periodo"},model:{value:e.manual_review.period,callback:function(t){e.$set(e.manual_review,"period",t)},expression:"manual_review.period"}})],1),t(N["a"],{ref:"form",staticClass:"pa-4 pt-6"},[t(Z["a"],[t(q["a"],{attrs:{cols:"6"}},[t(ie["a"],[t("p",{staticClass:"font-weight-bold"},[e._v(" Foi identificado Leakage durante a revisão manual? ")])])],1),t(q["a"],{attrs:{cols:"6"}},[t(ie["a"],[t(k["a"],{attrs:{row:"",rules:[function(e){return!!e||"Selecione uma opção."}]},model:{value:e.manual_review.is_leakage,callback:function(t){e.$set(e.manual_review,"is_leakage",t)},expression:"manual_review.is_leakage"}},[t(j["a"],{attrs:{label:"Sim",value:"true"}}),t(j["a"],{attrs:{label:"Não",value:"false"}})],1)],1)],1)],1),t(Z["a"],[t(q["a"],{attrs:{cols:"6"}},[t(ie["a"],[t("p",{staticClass:"font-weight-bold"},[e._v("Qual o valor do Leakage?")])])],1),t(q["a"],{attrs:{cols:"6"}},[t(ie["a"],[t(oe["a"],{attrs:{label:"Valor",prefix:"R$",type:"number",disabled:"true"!=e.manual_review.is_leakage,rules:e.validateLeakageValue},model:{value:e.manual_review.adjusted_leakage_value,callback:function(t){e.$set(e.manual_review,"adjusted_leakage_value",t)},expression:"manual_review.adjusted_leakage_value"}})],1)],1)],1),t(oe["a"],{attrs:{label:"Causa raiz",disabled:"true"!=e.manual_review.is_leakage,"hide-details":"auto"},model:{value:e.manual_review.comment,callback:function(t){e.$set(e.manual_review,"comment",t)},expression:"manual_review.comment"}})],1),t(V["a"]),t(P["a"],[t(m["a"],{attrs:{text:""},on:{click:function(t){return e.closeDialog()}}},[e._v(" Cancelar ")]),t(U["a"]),t(m["a"],{staticClass:"white--text",attrs:{color:"primary",disabled:null==e.manual_review.period},on:{click:function(t){return e.saveDialog()}}},[e._v(" Salvar ")])],1),t(M["a"],{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(x["a"],{attrs:{color:"primary",dark:""}},[t(P["b"],[e._v(" Processando... "),t(C["a"],{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),t(L["a"],{scopedSlots:e._u([{key:"action",fn:function(n){var r=n.attrs;return[t(m["a"],e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.error_dialog=!1}}},"v-btn",r,!1),[e._v(" Fechar ")])]}}]),model:{value:e.error_dialog,callback:function(t){e.error_dialog=t},expression:"error_dialog"}},[e._v(" "+e._s(e.error_text)+" ")])],1)},ue=[],le={data:function(){var e=this;return{periodos:[],manual_review:{sise_key:null,is_leakage:null,adjusted_leakage_value:null,coverage_id:null,user:null,created_at:null,period:null,comment:null,stage:null,type_loss:null,region:null},root_causes:[],dialog:!1,error_dialog:!1,error_text:"",validateCheckValueandRootCause:[function(t){return"false"==e.manual_review.is_leakage||(!!t||"Selecione uma opção.")}],validateLeakageValue:[function(t){return"true"!=e.manual_review.is_leakage||"false"!=e.manual_review.check_value||(!!t||"Selecione uma opção.")}],validateRootCause:[function(t){return!e.manual_review.is_leakage||null!=t||"Selecione uma opção."}]}},methods:{onChangeManualResult:function(e){"true"==this.manual_review.is_leakage&&this.fetchRootCauses({coverage_id:this.manual_review.coverage_id})},fetchRootCauses:function(e){var t=this;if(0==this.root_causes.length){var n="".concat(E.AWS_URL,"/rootcausesleakage");this.dialog=!0,e&&(n+="?coverage_id=".concat(e.coverage_id)),A.a.get(n).then((function(e){t.root_causes=e.data.map((function(e){return{text:e.description_pt_br,value:e.root_cause_leakage_id}})),console.log(t.root_causes),t.dialog=!1})).catch((function(e){throw t.dialog=!1,t.error_text="Erro ao recuperar lista de causas. ".concat(e.message),t.error_dialog=!0,e}))}},closeDialog:function(){tableau.extensions.ui.closeDialog()},saveDialog:function(){var e=this;this.manual_review.created_at=new Date(Date.now()).toISOString().split(".")[0],this.dialog=!0;var t="".concat(E.AWS_URL,"/manual_review_leakage_motor");A.a.post(t,this.manual_review).then((function(){e.dialog=!1;var t=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return"DETALHE3"===e.name}));t.getDataSourcesAsync().then((function(t){var n=t.find((function(e){return"leakage_review_motor"===e.name}));n.refreshAsync().then((function(){e.dialog=!1,tableau.extensions.ui.closeDialog(JSON.stringify(e.manual_review))})).catch((function(t){throw e.dialog=!1,e.error_text="Erro ao atualizar dados no painel. Entretanto os dados foram salvos. ".concat(t.message),e.error_dialog=!0,t}))})).catch((function(t){throw e.dialog=!1,e.error_text="Erro ao atualizar dados no painel. Entretanto os dados foram salvos. ".concat(t.message),e.error_dialog=!0,t}))})).catch((function(t){throw e.dialog=!1,e.error_text="Erro ao salvar dados no servidor. ".concat(t.message),e.error_dialog=!0,t}))},getValueFromDataTable:function(e,t){var n=e._columns.find((function(e){if(e._fieldName.includes("(")){var n=e._fieldName.substring(e._fieldName.indexOf("(")+1,e._fieldName.length-1);return n==t}return e._fieldName==t}));return"undefined"!=typeof n?e._data[0][n._index]._value:null}},mounted:function(){for(var e=new Date,t=Math.floor((e.getMonth()+3)/3),n=0;n<t;n++)this.periodos.push(e.getFullYear()+" - Q"+(n+1));for(var r=0;r<4;r++)this.periodos.push(e.getFullYear()-1+" - Q"+(r+1));this.manual_review.period=e.getFullYear()+" - Q"+t;var a=this;tableau.extensions.initializeDialogAsync().then((function(e){var t=JSON.parse(e);console.log(t);var n=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return"DETALHE2"===e.name}));n.getSummaryDataAsync().then((function(e){a.manual_review.type_loss=e.data[0][1]._value})),a.manual_review.stage=t.isR2?"2":"1",a.manual_review.region=t.region,a.manual_review.user=a.getValueFromDataTable(t,tableau.extensions.settings.get("VALIDATION_USER_FIELD")),a.manual_review.sise_key=a.getValueFromDataTable(t,tableau.extensions.settings.get("VALIDATION_SISE_KEY_FIELD")),a.manual_review.coverage_id=a.getValueFromDataTable(t,tableau.extensions.settings.get("VALIDATION_COVERAGE_ID_FIELD"))}))}},ce=le,pe=Object(c["a"])(ce,se,ue,!1,null,"44817625",null),fe=pe.exports,de=n("71a3"),ge=n("c671"),ye=n("fe57"),me=function(){var e=this,t=e._self._c;return t(R["a"],[t(H["a"],{attrs:{color:"primary",cards:"",dark:"",flat:""}},[t(P["c"],{staticClass:"title font-weight-regular"},[e._v(" Settings ")])],1),t(N["a"],{ref:"form",staticClass:"pa-4 pt-6"},[t(ye["a"],[t(de["a"],{key:1},[e._v("Validation")]),t(ge["a"],{key:1},[t(x["a"],{attrs:{flat:""}},[t(F["a"],{attrs:{items:e.worksheets,label:"WORKSHEET",rules:[function(e){return!!e||"Selecione uma opção."}]},on:{change:function(t){return e.onChangeValidationWorksheet(t)}},model:{value:e.VALIDATION_WORKSHEET,callback:function(t){e.VALIDATION_WORKSHEET=t},expression:"VALIDATION_WORKSHEET"}}),t(F["a"],{attrs:{items:e.validation_datasources,label:"DATASOURCE_TO_REFRESH",rules:e.rules},model:{value:e.VALIDATION_DATASOURCE_TO_REFRESH,callback:function(t){e.VALIDATION_DATASOURCE_TO_REFRESH=t},expression:"VALIDATION_DATASOURCE_TO_REFRESH"}}),t(F["a"],{attrs:{items:e.validation_fields,label:"USER",rules:e.rules},model:{value:e.VALIDATION_USER_FIELD,callback:function(t){e.VALIDATION_USER_FIELD=t},expression:"VALIDATION_USER_FIELD"}}),t(F["a"],{attrs:{items:e.validation_fields,label:"SISE_KEY",rules:e.rules},model:{value:e.VALIDATION_SISE_KEY_FIELD,callback:function(t){e.VALIDATION_SISE_KEY_FIELD=t},expression:"VALIDATION_SISE_KEY_FIELD"}}),t(F["a"],{attrs:{items:e.validation_fields,label:"AUTOMATED_RESULT",rules:e.rules},model:{value:e.VALIDATION_AUTOMATED_RESULT_FIELD,callback:function(t){e.VALIDATION_AUTOMATED_RESULT_FIELD=t},expression:"VALIDATION_AUTOMATED_RESULT_FIELD"}}),t(F["a"],{attrs:{items:e.validation_fields,label:"COVERAGE_ID",rules:e.rules},model:{value:e.VALIDATION_COVERAGE_ID_FIELD,callback:function(t){e.VALIDATION_COVERAGE_ID_FIELD=t},expression:"VALIDATION_COVERAGE_ID_FIELD"}}),t(F["a"],{attrs:{items:e.validation_fields,label:"VALIDATION_ID",rules:e.rules},model:{value:e.VALIDATION_VALIDATION_ID_FIELD,callback:function(t){e.VALIDATION_VALIDATION_ID_FIELD=t},expression:"VALIDATION_VALIDATION_ID_FIELD"}})],1)],1),t(de["a"],{key:2},[e._v("Manual Validation")]),t(ge["a"],{key:2},[t(x["a"],{attrs:{flat:""}},[t(F["a"],{attrs:{items:e.worksheets,label:"WORKSHEET",rules:[function(e){return!!e||"Selecione uma opção."}]},on:{change:function(t){return e.onChangeValidationWorksheet(t)}},model:{value:e.MANUAL_REVIEW_WORKSHEET,callback:function(t){e.MANUAL_REVIEW_WORKSHEET=t},expression:"MANUAL_REVIEW_WORKSHEET"}}),t(F["a"],{attrs:{items:e.validation_datasources,label:"DATASOURCE_TO_REFRESH",rules:e.rules},model:{value:e.MANUAL_REVIEW_DATASOURCE,callback:function(t){e.MANUAL_REVIEW_DATASOURCE=t},expression:"MANUAL_REVIEW_DATASOURCE"}}),t(F["a"],{attrs:{items:e.validation_fields,label:"USER",rules:e.rules},model:{value:e.MANUAL_REVIEW_USER,callback:function(t){e.MANUAL_REVIEW_USER=t},expression:"MANUAL_REVIEW_USER"}}),t(F["a"],{attrs:{items:e.validation_fields,label:"SISE_KEY",rules:e.rules},model:{value:e.MANUAL_REVIEW_SISE_KEY,callback:function(t){e.MANUAL_REVIEW_SISE_KEY=t},expression:"MANUAL_REVIEW_SISE_KEY"}}),t(F["a"],{attrs:{items:e.validation_fields,label:"VERIFICATION",rules:e.rules},model:{value:e.MANUAL_REVIEW_VERIFICATION,callback:function(t){e.MANUAL_REVIEW_VERIFICATION=t},expression:"MANUAL_REVIEW_VERIFICATION"}}),t(F["a"],{attrs:{items:e.validation_fields,label:"VALIDATION_ID",rules:e.rules},model:{value:e.MANUAL_REVIEW_VALIDATION_ID,callback:function(t){e.MANUAL_REVIEW_VALIDATION_ID=t},expression:"MANUAL_REVIEW_VALIDATION_ID"}})],1)],1)],1)],1),t(V["a"]),t(P["a"],[t(m["a"],{attrs:{text:""},on:{click:function(t){return e.closeDialog()}}},[e._v(" Cancelar ")]),t(U["a"]),t(m["a"],{staticClass:"white--text",attrs:{color:"primary"},on:{click:function(t){return e.saveDialog()}}},[e._v(" Salvar ")])],1),t(M["a"],{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(x["a"],{attrs:{color:"primary",dark:""}},[t(P["b"],[e._v(" Processando... "),t(C["a"],{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},ve=[],he={data:function(){return{worksheets:[],validation_fields:[],validation_datasources:[],VALIDATION_WORKSHEET:"",VALIDATION_DATASOURCE_TO_REFRESH:"",VALIDATION_USER_FIELD:"",VALIDATION_SISE_KEY_FIELD:"",VALIDATION_AUTOMATED_RESULT_FIELD:"",VALIDATION_COVERAGE_ID_FIELD:"",VALIDATION_VALIDATION_ID_FIELD:"",MANUAL_REVIEW_WORKSHEET:"",MANUAL_REVIEW_DATASOURCE:"",MANUAL_REVIEW_USER:"",MANUAL_REVIEW_SISE_KEY:"",MANUAL_REVIEW_VERIFICATION:"",MANUAL_REVIEW_VALIDATION_ID:"",dialog:!1,rules:[function(e){return""!=e||"Selecione uma opção."}]}},methods:{onChangeValidationWorksheet:function(e){var t=this,n=this;this.dialog=!0,console.log(this.VALIDATION_WORKSHEET);var r=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return e.name===t.VALIDATION_WORKSHEET}));r.getUnderlyingTablesAsync().then((function(e){r.getUnderlyingTableDataAsync(e[0].id).then((function(e){n.validation_fields=e.columns.map((function(e){return e.fieldName})),r.getDataSourcesAsync().then((function(e){n.validation_datasources=e.map((function(e){return e.name})),n.dialog=!1}))}))})).catch((function(e){n.dialog=!1}))},closeDialog:function(){tableau.extensions.ui.closeDialog()},saveDialog:function(){this.$refs.form.validate()&&(tableau.extensions.settings.set("VALIDATION_WORKSHEET",this.VALIDATION_WORKSHEET),tableau.extensions.settings.set("VALIDATION_DATASOURCE_TO_REFRESH",this.VALIDATION_DATASOURCE_TO_REFRESH),tableau.extensions.settings.set("VALIDATION_USER_FIELD",this.VALIDATION_USER_FIELD),tableau.extensions.settings.set("VALIDATION_SISE_KEY_FIELD",this.VALIDATION_SISE_KEY_FIELD),tableau.extensions.settings.set("VALIDATION_AUTOMATED_RESULT_FIELD",this.VALIDATION_AUTOMATED_RESULT_FIELD),tableau.extensions.settings.set("VALIDATION_COVERAGE_ID_FIELD",this.VALIDATION_COVERAGE_ID_FIELD),tableau.extensions.settings.set("VALIDATION_VALIDATION_ID_FIELD",this.VALIDATION_VALIDATION_ID_FIELD),tableau.extensions.settings.set("validation_fields",JSON.stringify(this.validation_fields)),tableau.extensions.settings.set("validation_datasources",JSON.stringify(this.validation_datasources)),tableau.extensions.settings.set("MANUAL_REVIEW_WORKSHEET",this.MANUAL_REVIEW_WORKSHEET),tableau.extensions.settings.set("MANUAL_REVIEW_DATASOURCE",this.MANUAL_REVIEW_DATASOURCE),tableau.extensions.settings.set("MANUAL_REVIEW_USER",this.MANUAL_REVIEW_USER),tableau.extensions.settings.set("MANUAL_REVIEW_SISE_KEY",this.MANUAL_REVIEW_SISE_KEY),tableau.extensions.settings.set("MANUAL_REVIEW_VERIFICATION",this.MANUAL_REVIEW_VERIFICATION),tableau.extensions.settings.set("MANUAL_REVIEW_VALIDATION_ID",this.MANUAL_REVIEW_VALIDATION_ID),tableau.extensions.settings.set("first_setup","no"),tableau.extensions.settings.saveAsync().then((function(e){console.log("Settings saved."),tableau.extensions.ui.closeDialog()})).catch((function(e){})))}},mounted:function(){var e=this;tableau.extensions.initializeDialogAsync().then((function(){var t=tableau.extensions.dashboardContent.dashboard;e.worksheets=t.worksheets.map((function(e){return e.name})),e.VALIDATION_WORKSHEET=tableau.extensions.settings.get("VALIDATION_WORKSHEET"),e.VALIDATION_DATASOURCE_TO_REFRESH=tableau.extensions.settings.get("VALIDATION_DATASOURCE_TO_REFRESH"),e.VALIDATION_USER_FIELD=tableau.extensions.settings.get("VALIDATION_USER_FIELD"),e.VALIDATION_SISE_KEY_FIELD=tableau.extensions.settings.get("VALIDATION_SISE_KEY_FIELD"),e.VALIDATION_AUTOMATED_RESULT_FIELD=tableau.extensions.settings.get("VALIDATION_AUTOMATED_RESULT_FIELD"),e.VALIDATION_COVERAGE_ID_FIELD=tableau.extensions.settings.get("VALIDATION_COVERAGE_ID_FIELD"),e.VALIDATION_VALIDATION_ID_FIELD=tableau.extensions.settings.get("VALIDATION_VALIDATION_ID_FIELD"),e.MANUAL_REVIEW_WORKSHEET=tableau.extensions.settings.get("MANUAL_REVIEW_WORKSHEET"),e.MANUAL_REVIEW_DATASOURCE=tableau.extensions.settings.get("MANUAL_REVIEW_DATASOURCE"),e.MANUAL_REVIEW_USER=tableau.extensions.settings.get("MANUAL_REVIEW_USER"),e.MANUAL_REVIEW_SISE_KEY=tableau.extensions.settings.get("MANUAL_REVIEW_SISE_KEY"),e.MANUAL_REVIEW_VERIFICATION=tableau.extensions.settings.get("MANUAL_REVIEW_VERIFICATION"),e.MANUAL_REVIEW_VALIDATION_ID=tableau.extensions.settings.get("MANUAL_REVIEW_VALIDATION_ID"),e.validation_fields=JSON.parse(tableau.extensions.settings.get("validation_fields")),e.validation_datasources=JSON.parse(tableau.extensions.settings.get("validation_datasources")),e.onChangeValidationWorksheet()}))}},_e=he,be=Object(c["a"])(_e,me,ve,!1,null,"2dfd2b45",null),Ie=be.exports,Te=function(){var e=this,t=e._self._c;return t(R["a"],[[t(R["a"],{staticClass:"text-right",attrs:{fluid:""}},[t(Z["a"],[t(q["a"],{attrs:{cols:"4"}},[t(y["a"],{attrs:{items:e.analysts,label:"Analista Principal"},model:{value:e.manual_review.analystName,callback:function(t){e.$set(e.manual_review,"analystName",t)},expression:"manual_review.analystName"}})],1),t(q["a"],{attrs:{cols:"4"}},[t(y["a"],{attrs:{items:e.analysts,label:"Analista Secundario"},model:{value:e.manual_review.analystName2,callback:function(t){e.$set(e.manual_review,"analystName2",t)},expression:"manual_review.analystName2"}})],1),t(q["a"],{attrs:{cols:"4"}},[t(F["a"],{attrs:{items:e.periodos,label:"Periodo"},model:{value:e.manual_review.period,callback:function(t){e.$set(e.manual_review,"period",t)},expression:"manual_review.period"}})],1)],1),""==e.manual_review.analystName2?t(Z["a"],[t(q["a"],{attrs:{cols:"12",md:"6"}},[t($["a"],{attrs:{filled:"",name:"input-7-4",label:"Comentário Geral"},model:{value:e.manual_review.comment,callback:function(t){e.$set(e.manual_review,"comment",t)},expression:"manual_review.comment"}})],1)],1):t(Z["a"],[t(q["a"],{attrs:{cols:"6",md:"6"}},[t($["a"],{attrs:{filled:"",name:"input-7-4",label:"Comentário Geral"},model:{value:e.manual_review.comment,callback:function(t){e.$set(e.manual_review,"comment",t)},expression:"manual_review.comment"}})],1),t(q["a"],{attrs:{cols:"6",md:"6"}},[t($["a"],{attrs:{filled:"",name:"input-7-4",label:"Comentário Geral"},model:{value:e.manual_review.comment2,callback:function(t){e.$set(e.manual_review,"comment2",t)},expression:"manual_review.comment2"}})],1)],1),t(m["a"],{staticClass:"ma-2 ml-1",attrs:{color:"primary",disabled:""==e.manual_review.comment||null==e.manual_review.period},on:{click:function(t){return e.send()}}},[e._v(" Adicionar Comentario ")])],1)]],2)},Ae=[],Ee=n("3d20"),Se=n.n(Ee),we={data:function(){return{periodos:[],firstComment:!0,analysts:[],manual_review:{comment:"",comment2:"",created_at:null,sise_key:null,user_name:null,analystName:"",analystName2:"",coverage_id:null,number_warning:"",type_loss:null,period:null,stage:null,porcVerification:null,region:null}}},methods:{send:function(){this.firstComment?A.a.post("".concat(E.AWS_URL,"/create_comment_motor"),this.manual_review).then((function(e){var t=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return"DETALHE2"===e.name}));t.getDataSourcesAsync().then((function(e){var t=e.find((function(e){return e.name===tableau.extensions.settings.get("MANUAL_REVIEW_DATASOURCE")}));t.refreshAsync().then((function(){Se.a.fire("Comentario Enviado!","Feedback enviado por E-mail","success").then((function(){tableau.extensions.ui.closeDialog()}))}))}))})):A.a.post("".concat(E.AWS_URL,"/update_comment_motor"),this.manual_review).then((function(e){var t=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return"DETALHE2"===e.name}));t.getDataSourcesAsync().then((function(e){var t=e.find((function(e){return e.name===tableau.extensions.settings.get("MANUAL_REVIEW_DATASOURCE")}));t.refreshAsync().then((function(){Se.a.fire("Comentario Enviado!","Feedback enviado por E-mail","success").then((function(){tableau.extensions.ui.closeDialog()}))}))}))})).catch((function(e){return console.log(e)})),A.a.post("".concat(E.AWS_URL,"/send_email_motor"),this.manual_review)},getValueFromDataTable:function(e,t){var n=e._columns.find((function(e){if(e._fieldName.includes("(")){var n=e._fieldName.substring(e._fieldName.indexOf("(")+1,e._fieldName.length-1);return n==t}return e._fieldName==t}));return"undefined"!=typeof n?e._data[0][n._index]._value:null}},mounted:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=new Date,n=Math.floor((t.getMonth()+3)/3),r=0;r<n;r++)this.periodos.push(t.getFullYear()+" - Q"+(r+1));for(a=0;a<4;a++)this.periodos.push(t.getFullYear()-1+" - Q"+(a+1));this.manual_review.period=t.getFullYear()+" - Q"+n,i=this,tableau.extensions.initializeDialogAsync().then((function(e){var t=JSON.parse(e);i.manual_review.stage=t.isR2?"2":"1",i.manual_review.region=t.region,i.manual_review.analystName=t.analystName,i.analysts=t.analysts;var n=tableau.extensions.dashboardContent.dashboard.worksheets.find((function(e){return"DETALHE2"===e.name}));n.getSummaryDataAsync().then((function(e){i.manual_review.type_loss=e.data[0][1]._formattedValue,i.manual_review.porcVerification=Math.round(100*e._data[0][7]._value)})),i.manual_review.sise_key=i.getValueFromDataTable(t,tableau.extensions.settings.get("VALIDATION_SISE_KEY_FIELD")),i.manual_review.user_name=i.getValueFromDataTable(t,tableau.extensions.settings.get("VALIDATION_USER_FIELD")),i.manual_review.coverage_id=i.getValueFromDataTable(t,tableau.extensions.settings.get("VALIDATION_COVERAGE_ID_FIELD")),console.log(i.manual_review,"test"),console.log(i.manual_review.analystName),i.manual_review.number_warning=t._data[0][1]._formattedValue,i.manual_review.created_at=new Date(Date.now()).toISOString();var r="".concat(E.AWS_URL,"/get_comment_motor?sise_key=").concat(i.manual_review.sise_key);A.a.get(r,i.manual_review).then((function(e){i.manual_review.comment=e.data,""!=e.data&&(i.firstComment=!1)}))}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},De=we,Oe=Object(c["a"])(De,Te,Ae,!1,null,"873da72c",null),xe=Oe.exports;r["a"].use(g["a"]);var Pe=new g["a"]({routes:[{path:"/",name:"Main",component:O},{path:"/review_validation",name:"ReviewValidation",component:K},{path:"/manual_review",name:"ManualReview",component:ae},{path:"/review_leakage",name:"ReviewLeakage",component:fe},{path:"/configure",name:"Configure",component:Ie},{path:"/comment",name:"Comment",component:xe}]}),Re=n("2f62");r["a"].use(Re["a"]);var Me=new Re["a"].Store({state:{sise:""},getters:{},mutations:{changeSise:function(e,t){e.sise=t}},actions:{}}),Ve=n("f309");r["a"].use(Ve["a"]);var Ne=new Ve["a"]({});r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(f)},router:Pe,vuetify:Ne,store:Me}).$mount("#app")},6166:function(e,t,n){},c5f4:function(e,t,n){"use strict";n("f24f")},f24f:function(e,t,n){}});
//# sourceMappingURL=app.9e8588ef.js.map